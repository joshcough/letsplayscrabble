// Generated by purs version 0.15.15
import * as CSS_Class from "../CSS.Class/index.js";
import * as Component_Overlay_BaseOverlay from "../Component.Overlay.BaseOverlay/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Domain_Types from "../Domain.Types/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Stats_MiscOverlayStats from "../Stats.MiscOverlayStats/index.js";
import * as Stats_OverlayLogic from "../Stats.OverlayLogic/index.js";
import * as Stats_PlayerStats from "../Stats.PlayerStats/index.js";
import * as Utils_CSS from "../Utils.CSS/index.js";
import * as Utils_Format from "../Utils.Format/index.js";
import * as Utils_HTML from "../Utils.HTML/index.js";
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var eq = /* #__PURE__ */ Data_Eq.eq(Domain_Types.eqPlayerId);
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var show1 = /* #__PURE__ */ Data_Show.show(Stats_OverlayLogic.showTournamentSubscription);
var show2 = /* #__PURE__ */ Data_Show.show(Data_Show.showBoolean);
var eqRec = /* #__PURE__ */ Data_Eq.eqRec();
var eqRowCons = /* #__PURE__ */ Data_Eq.eqRowCons(Data_Eq.eqRowNil)();
var eqMaybe = /* #__PURE__ */ Data_Maybe.eqMaybe(Data_Eq.eqString);
var nameIsSymbol = {
    reflectSymbol: function () {
        return "name";
    }
};
var idIsSymbol = {
    reflectSymbol: function () {
        return "id";
    }
};
var cityIsSymbol = {
    reflectSymbol: function () {
        return "city";
    }
};
var divisionIsSymbol = {
    reflectSymbol: function () {
        return "division";
    }
};
var eqMaybe1 = /* #__PURE__ */ Data_Maybe.eqMaybe(Data_Eq.eqInt);
var dateIsSymbol = {
    reflectSymbol: function () {
        return "date";
    }
};
var playeridIsSymbol = {
    reflectSymbol: function () {
        return "playerid";
    }
};
var eqRec1 = /* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "score";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "position";
    }
})(eqMaybe1))()(playeridIsSymbol)(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "oldrating";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "newrating";
    }
})(Data_Eq.eqInt))()(nameIsSymbol)(Data_Eq.eqString));
var notEq = /* #__PURE__ */ Data_Eq.notEq(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "tournament";
    }
})(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "year";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "transparentBackground";
    }
})(Data_Eq.eqBoolean))()({
    reflectSymbol: function () {
        return "theme";
    }
})(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "pollUntil";
    }
})(eqMaybe))()(nameIsSymbol)(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "longFormName";
    }
})(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "lexicon";
    }
})(Data_Eq.eqString))()(idIsSymbol)(Domain_Types.eqTournamentId))()({
    reflectSymbol: function () {
        return "dataUrl";
    }
})(Data_Eq.eqString))()(cityIsSymbol)(Data_Eq.eqString))))()(divisionIsSymbol)(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "players";
    }
})(/* #__PURE__ */ Data_Eq.eqArray(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "xtid";
    }
})(/* #__PURE__ */ Data_Maybe.eqMaybe(Domain_Types.eqXTId)))()({
    reflectSymbol: function () {
        return "xtData";
    }
})(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "w";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "twlrating";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "twlranking";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "tournamentCount";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "t";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "state";
    }
})(eqMaybe))()({
    reflectSymbol: function () {
        return "results";
    }
})(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ Data_Eq.eqArray(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "wins";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "tourneyid";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "totalplayers";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "ties";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "ratingchange";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "rating";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "points";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "place";
    }
})(Data_Eq.eqInt))()(nameIsSymbol)(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "losses";
    }
})(Data_Eq.eqInt))()(divisionIsSymbol)(Data_Eq.eqString))()(dateIsSymbol)(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "averagepoints";
    }
})(Data_Eq.eqInt))))))()(playeridIsSymbol)(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "photourl";
    }
})(eqMaybe))()({
    reflectSymbol: function () {
        return "opponentAverageScore";
    }
})(eqMaybe1))()(nameIsSymbol)(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "l";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "cswrating";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "cswranking";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "country";
    }
})(eqMaybe))()(cityIsSymbol)(eqMaybe))()({
    reflectSymbol: function () {
        return "b";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "averageScore";
    }
})(eqMaybe1)))))()({
    reflectSymbol: function () {
        return "seed";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "ratingsHistory";
    }
})(/* #__PURE__ */ Data_Eq.eqArray(Data_Eq.eqInt)))()({
    reflectSymbol: function () {
        return "photo";
    }
})(eqMaybe))()(nameIsSymbol)(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "initialRating";
    }
})(Data_Eq.eqInt))()(idIsSymbol)(Domain_Types.eqPlayerId)))))()(nameIsSymbol)(Data_Eq.eqString))()(idIsSymbol)(Domain_Types.eqDivisionId))()({
    reflectSymbol: function () {
        return "headToHeadGames";
    }
})(/* #__PURE__ */ Data_Eq.eqArray(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "tourneyname";
    }
})(eqMaybe))()({
    reflectSymbol: function () {
        return "player2";
    }
})(eqRec1))()({
    reflectSymbol: function () {
        return "player1";
    }
})(eqRec1))()({
    reflectSymbol: function () {
        return "gameid";
    }
})(Data_Eq.eqInt))()(dateIsSymbol)(Data_Eq.eqString))()({
    reflectSymbol: function () {
        return "annotated";
    }
})(eqMaybe)))))()({
    reflectSymbol: function () {
        return "games";
    }
})(/* #__PURE__ */ Data_Eq.eqArray(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons({
    reflectSymbol: function () {
        return "roundNumber";
    }
})(Data_Eq.eqInt))()({
    reflectSymbol: function () {
        return "player2Score";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "player2Id";
    }
})(Domain_Types.eqPlayerId))()({
    reflectSymbol: function () {
        return "player1Score";
    }
})(eqMaybe1))()({
    reflectSymbol: function () {
        return "player1Id";
    }
})(Domain_Types.eqPlayerId))()({
    reflectSymbol: function () {
        return "pairingId";
    }
})(/* #__PURE__ */ Data_Maybe.eqMaybe(Domain_Types.eqPairingId)))()({
    reflectSymbol: function () {
        return "isBye";
    }
})(Data_Eq.eqBoolean))()(idIsSymbol)(Domain_Types.eqGameId)))))))));
var Player1Name = /* #__PURE__ */ (function () {
    function Player1Name() {

    };
    Player1Name.value = new Player1Name();
    return Player1Name;
})();
var Player2Name = /* #__PURE__ */ (function () {
    function Player2Name() {

    };
    Player2Name.value = new Player2Name();
    return Player2Name;
})();
var Player1Record = /* #__PURE__ */ (function () {
    function Player1Record() {

    };
    Player1Record.value = new Player1Record();
    return Player1Record;
})();
var Player2Record = /* #__PURE__ */ (function () {
    function Player2Record() {

    };
    Player2Record.value = new Player2Record();
    return Player2Record;
})();
var Player1AverageScore = /* #__PURE__ */ (function () {
    function Player1AverageScore() {

    };
    Player1AverageScore.value = new Player1AverageScore();
    return Player1AverageScore;
})();
var Player2AverageScore = /* #__PURE__ */ (function () {
    function Player2AverageScore() {

    };
    Player2AverageScore.value = new Player2AverageScore();
    return Player2AverageScore;
})();
var Player1HighScore = /* #__PURE__ */ (function () {
    function Player1HighScore() {

    };
    Player1HighScore.value = new Player1HighScore();
    return Player1HighScore;
})();
var Player2HighScore = /* #__PURE__ */ (function () {
    function Player2HighScore() {

    };
    Player2HighScore.value = new Player2HighScore();
    return Player2HighScore;
})();
var Player1Spread = /* #__PURE__ */ (function () {
    function Player1Spread() {

    };
    Player1Spread.value = new Player1Spread();
    return Player1Spread;
})();
var Player2Spread = /* #__PURE__ */ (function () {
    function Player2Spread() {

    };
    Player2Spread.value = new Player2Spread();
    return Player2Spread;
})();
var Player1Rank = /* #__PURE__ */ (function () {
    function Player1Rank() {

    };
    Player1Rank.value = new Player1Rank();
    return Player1Rank;
})();
var Player2Rank = /* #__PURE__ */ (function () {
    function Player2Rank() {

    };
    Player2Rank.value = new Player2Rank();
    return Player2Rank;
})();
var Player1RankOrdinal = /* #__PURE__ */ (function () {
    function Player1RankOrdinal() {

    };
    Player1RankOrdinal.value = new Player1RankOrdinal();
    return Player1RankOrdinal;
})();
var Player2RankOrdinal = /* #__PURE__ */ (function () {
    function Player2RankOrdinal() {

    };
    Player2RankOrdinal.value = new Player2RankOrdinal();
    return Player2RankOrdinal;
})();
var Player1Rating = /* #__PURE__ */ (function () {
    function Player1Rating() {

    };
    Player1Rating.value = new Player1Rating();
    return Player1Rating;
})();
var Player2Rating = /* #__PURE__ */ (function () {
    function Player2Rating() {

    };
    Player2Rating.value = new Player2Rating();
    return Player2Rating;
})();
var Player1UnderCam = /* #__PURE__ */ (function () {
    function Player1UnderCam() {

    };
    Player1UnderCam.value = new Player1UnderCam();
    return Player1UnderCam;
})();
var Player2UnderCam = /* #__PURE__ */ (function () {
    function Player2UnderCam() {

    };
    Player2UnderCam.value = new Player2UnderCam();
    return Player2UnderCam;
})();
var Player1UnderCamNoSeed = /* #__PURE__ */ (function () {
    function Player1UnderCamNoSeed() {

    };
    Player1UnderCamNoSeed.value = new Player1UnderCamNoSeed();
    return Player1UnderCamNoSeed;
})();
var Player2UnderCamNoSeed = /* #__PURE__ */ (function () {
    function Player2UnderCamNoSeed() {

    };
    Player2UnderCamNoSeed.value = new Player2UnderCamNoSeed();
    return Player2UnderCamNoSeed;
})();
var Player1UnderCamSmall = /* #__PURE__ */ (function () {
    function Player1UnderCamSmall() {

    };
    Player1UnderCamSmall.value = new Player1UnderCamSmall();
    return Player1UnderCamSmall;
})();
var Player2UnderCamSmall = /* #__PURE__ */ (function () {
    function Player2UnderCamSmall() {

    };
    Player2UnderCamSmall.value = new Player2UnderCamSmall();
    return Player2UnderCamSmall;
})();
var Player1UnderCamWithRating = /* #__PURE__ */ (function () {
    function Player1UnderCamWithRating() {

    };
    Player1UnderCamWithRating.value = new Player1UnderCamWithRating();
    return Player1UnderCamWithRating;
})();
var Player2UnderCamWithRating = /* #__PURE__ */ (function () {
    function Player2UnderCamWithRating() {

    };
    Player2UnderCamWithRating.value = new Player2UnderCamWithRating();
    return Player2UnderCamWithRating;
})();
var Player1Bo7 = /* #__PURE__ */ (function () {
    function Player1Bo7() {

    };
    Player1Bo7.value = new Player1Bo7();
    return Player1Bo7;
})();
var Player2Bo7 = /* #__PURE__ */ (function () {
    function Player2Bo7() {

    };
    Player2Bo7.value = new Player2Bo7();
    return Player2Bo7;
})();
var Player1GameHistory = /* #__PURE__ */ (function () {
    function Player1GameHistory() {

    };
    Player1GameHistory.value = new Player1GameHistory();
    return Player1GameHistory;
})();
var Player2GameHistory = /* #__PURE__ */ (function () {
    function Player2GameHistory() {

    };
    Player2GameHistory.value = new Player2GameHistory();
    return Player2GameHistory;
})();
var Player1GameHistorySmall = /* #__PURE__ */ (function () {
    function Player1GameHistorySmall() {

    };
    Player1GameHistorySmall.value = new Player1GameHistorySmall();
    return Player1GameHistorySmall;
})();
var Player2GameHistorySmall = /* #__PURE__ */ (function () {
    function Player2GameHistorySmall() {

    };
    Player2GameHistorySmall.value = new Player2GameHistorySmall();
    return Player2GameHistorySmall;
})();
var TournamentData = /* #__PURE__ */ (function () {
    function TournamentData() {

    };
    TournamentData.value = new TournamentData();
    return TournamentData;
})();
var UnknownSource = /* #__PURE__ */ (function () {
    function UnknownSource() {

    };
    UnknownSource.value = new UnknownSource();
    return UnknownSource;
})();
var eqSourceType = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Player1Name && y instanceof Player1Name) {
                return true;
            };
            if (x instanceof Player2Name && y instanceof Player2Name) {
                return true;
            };
            if (x instanceof Player1Record && y instanceof Player1Record) {
                return true;
            };
            if (x instanceof Player2Record && y instanceof Player2Record) {
                return true;
            };
            if (x instanceof Player1AverageScore && y instanceof Player1AverageScore) {
                return true;
            };
            if (x instanceof Player2AverageScore && y instanceof Player2AverageScore) {
                return true;
            };
            if (x instanceof Player1HighScore && y instanceof Player1HighScore) {
                return true;
            };
            if (x instanceof Player2HighScore && y instanceof Player2HighScore) {
                return true;
            };
            if (x instanceof Player1Spread && y instanceof Player1Spread) {
                return true;
            };
            if (x instanceof Player2Spread && y instanceof Player2Spread) {
                return true;
            };
            if (x instanceof Player1Rank && y instanceof Player1Rank) {
                return true;
            };
            if (x instanceof Player2Rank && y instanceof Player2Rank) {
                return true;
            };
            if (x instanceof Player1RankOrdinal && y instanceof Player1RankOrdinal) {
                return true;
            };
            if (x instanceof Player2RankOrdinal && y instanceof Player2RankOrdinal) {
                return true;
            };
            if (x instanceof Player1Rating && y instanceof Player1Rating) {
                return true;
            };
            if (x instanceof Player2Rating && y instanceof Player2Rating) {
                return true;
            };
            if (x instanceof Player1UnderCam && y instanceof Player1UnderCam) {
                return true;
            };
            if (x instanceof Player2UnderCam && y instanceof Player2UnderCam) {
                return true;
            };
            if (x instanceof Player1UnderCamNoSeed && y instanceof Player1UnderCamNoSeed) {
                return true;
            };
            if (x instanceof Player2UnderCamNoSeed && y instanceof Player2UnderCamNoSeed) {
                return true;
            };
            if (x instanceof Player1UnderCamSmall && y instanceof Player1UnderCamSmall) {
                return true;
            };
            if (x instanceof Player2UnderCamSmall && y instanceof Player2UnderCamSmall) {
                return true;
            };
            if (x instanceof Player1UnderCamWithRating && y instanceof Player1UnderCamWithRating) {
                return true;
            };
            if (x instanceof Player2UnderCamWithRating && y instanceof Player2UnderCamWithRating) {
                return true;
            };
            if (x instanceof Player1Bo7 && y instanceof Player1Bo7) {
                return true;
            };
            if (x instanceof Player2Bo7 && y instanceof Player2Bo7) {
                return true;
            };
            if (x instanceof Player1GameHistory && y instanceof Player1GameHistory) {
                return true;
            };
            if (x instanceof Player2GameHistory && y instanceof Player2GameHistory) {
                return true;
            };
            if (x instanceof Player1GameHistorySmall && y instanceof Player1GameHistorySmall) {
                return true;
            };
            if (x instanceof Player2GameHistorySmall && y instanceof Player2GameHistorySmall) {
                return true;
            };
            if (x instanceof TournamentData && y instanceof TournamentData) {
                return true;
            };
            if (x instanceof UnknownSource && y instanceof UnknownSource) {
                return true;
            };
            return false;
        };
    }
};
var eq2 = /* #__PURE__ */ Data_Eq.eq(eqSourceType);
var renderTournamentData = function (state) {
    if (state.currentData instanceof Data_Maybe.Just && state.currentMatch instanceof Data_Maybe.Just) {
        var text = state.currentData.value0.tournament.name + (" | " + (state.currentData.value0.tournament.lexicon + (" | Round " + show(state.currentMatch.value0.round))));
        return Utils_HTML.blackTextDiv(text);
    };
    if (state.currentData instanceof Data_Maybe.Just && state.currentMatch instanceof Data_Maybe.Nothing) {
        return Component_Overlay_BaseOverlay.renderError("No current match for tournament data");
    };
    if (state.currentData instanceof Data_Maybe.Nothing) {
        return Component_Overlay_BaseOverlay.renderError("No tournament data");
    };
    throw new Error("Failed pattern match at Component.Overlay.MiscOverlay (line 217, column 6 - line 225, column 51): " + [ state.currentData.constructor.name, state.currentMatch.constructor.name ]);
};
var renderPointsDisplay = function (player) {
    return function (allPlayers) {
        var avgScoreRank = Stats_MiscOverlayStats.calculateAverageScoreRank(allPlayers)(player);
        var avgScoreRankOrd = Utils_Format.formatRankOrdinal(avgScoreRank);
        var avgOppScoreRank = Stats_MiscOverlayStats.calculateAverageOpponentScoreRank(allPlayers)(player);
        var avgOppScoreRankOrd = Utils_Format.formatRankOrdinal(avgOppScoreRank);
        return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Mt_4.value), Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.FlexCol.value), Utils_CSS.cls(CSS_Class.ItemsStart.value), Utils_CSS.cls(CSS_Class.TextBlack.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.W_Full.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Mr_6.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Text_Base.value), Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.TextLeft.value) ]) ])([ Halogen_HTML_Core.text("Avg Points For: " + show(Data_Int.round(player.averageScore))) ]), Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Text_Base.value), Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.TextLeft.value) ]) ])([ Halogen_HTML_Core.text("Ranked: " + avgScoreRankOrd) ]) ]), Halogen_HTML_Elements.div_([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Text_Base.value), Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.TextLeft.value) ]) ])([ Halogen_HTML_Core.text("Avg Points Against: " + show(Data_Int.round(player.averageOpponentScore))) ]), Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Text_Base.value), Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.TextLeft.value) ]) ])([ Halogen_HTML_Core.text("Ranked: " + avgOppScoreRankOrd) ]) ]) ]) ]);
    };
};
var renderGameHistoryTable = function (playerId) {
    return function (games) {
        return function (players) {
            var renderGameRow = function (pid) {
                return function (pls) {
                    return function (game) {
                        var opponentName = Stats_MiscOverlayStats.getOpponentName(pid)(game)(pls);
                        var isPlayer1 = eq(game.player1Id)(pid);
                        var opponentScore = (function () {
                            if (isPlayer1) {
                                return game.player2Score;
                            };
                            return game.player1Score;
                        })();
                        var playerScore = (function () {
                            if (isPlayer1) {
                                return game.player1Score;
                            };
                            return game.player2Score;
                        })();
                        var result = (function () {
                            if (playerScore instanceof Data_Maybe.Just && opponentScore instanceof Data_Maybe.Just) {
                                var $407 = playerScore.value0 > opponentScore.value0;
                                if ($407) {
                                    return {
                                        text: "Win",
                                        color: "text-red-600"
                                    };
                                };
                                var $408 = playerScore.value0 === opponentScore.value0;
                                if ($408) {
                                    return {
                                        text: "Tie",
                                        color: "text-gray-600"
                                    };
                                };
                                return {
                                    text: "Loss",
                                    color: "text-blue-600"
                                };
                            };
                            return {
                                text: "?",
                                color: "text-gray-600"
                            };
                        })();
                        return Halogen_HTML_Elements.tr_([ Halogen_HTML_Elements.td([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.WhitespaceNowrap.value), Utils_CSS.cls(CSS_Class.Pr_4.value) ]) ])([ Halogen_HTML_Core.text("Round " + (show(game.roundNumber) + ":")) ]), Halogen_HTML_Elements.td([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.WhitespaceNowrap.value), Utils_CSS.cls(CSS_Class.Pr_4.value) ]) ])([ Halogen_HTML_Core.text(show(Data_Maybe.fromMaybe(0)(playerScore)) + ("-" + show(Data_Maybe.fromMaybe(0)(opponentScore)))) ]), Halogen_HTML_Elements.td([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.WhitespaceNowrap.value), Utils_CSS.cls(CSS_Class.FontExtrabold.value), Utils_CSS.cls(CSS_Class.Pr_4.value), Utils_CSS.raw(result.color) ]) ])([ Halogen_HTML_Core.text(result.text) ]), Halogen_HTML_Elements.td_([ Halogen_HTML_Core.text("vs " + opponentName) ]) ]);
                    };
                };
            };
            var recentGames = Stats_MiscOverlayStats.getRecentGamesForPlayer(playerId)(games)(5);
            var headerText = (function () {
                var $411 = Data_Array.length(recentGames) === 1;
                if ($411) {
                    return "Last Game:";
                };
                return "Last " + (show(Data_Array.length(recentGames)) + " Games:");
            })();
            var $412 = Data_Array["null"](recentGames);
            if ($412) {
                return Utils_HTML.blackTextDiv("No games");
            };
            return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Mt_4.value), Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.FlexCol.value), Utils_CSS.cls(CSS_Class.ItemsStart.value), Utils_CSS.cls(CSS_Class.Text_Sm.value), Utils_CSS.cls(CSS_Class.TextBlack.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.TextLeft.value), Utils_CSS.cls(CSS_Class.Mb_1.value) ]) ])([ Halogen_HTML_Core.text(headerText) ]), Halogen_HTML_Elements.table([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.BorderSeparate.value) ]) ])([ Halogen_HTML_Elements.tbody_(map(renderGameRow(playerId)(players))(recentGames)) ]) ]);
        };
    };
};
var renderPointsAndGameHistory = function (player) {
    return function (playerId) {
        return function (games) {
            return function (allPlayers) {
                return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.TextBlack.value) ]) ])([ renderPointsDisplay(player)(allPlayers), renderGameHistoryTable(playerId)(games)(allPlayers) ]);
            };
        };
    };
};
var renderPlayerData = function (state) {
    return function (source) {
        if (state.currentData instanceof Data_Maybe.Nothing) {
            return Component_Overlay_BaseOverlay.renderError("No tournament data (subscription=" + (show1(state.subscription) + ")"));
        };
        if (state.currentMatch instanceof Data_Maybe.Nothing) {
            return Component_Overlay_BaseOverlay.renderError("No current match selected (subscription=" + (show1(state.subscription) + (", tournament=" + (show2(notEq(state.currentData)(Data_Maybe.Nothing.value)) + ")"))));
        };
        if (state.currentData instanceof Data_Maybe.Just && state.currentMatch instanceof Data_Maybe.Just) {
            var maybeGame = Data_Array.find(function (g) {
                return g.roundNumber === state.currentMatch.value0.round && Data_Maybe.maybe(false)(function (v) {
                    return v === state.currentMatch.value0.pairingId;
                })(g.pairingId);
            })(state.currentData.value0.division.games);
            if (maybeGame instanceof Data_Maybe.Nothing) {
                return Component_Overlay_BaseOverlay.renderError("Current match game not found (round " + (show(state.currentMatch.value0.round) + (", pairing " + (show(state.currentMatch.value0.pairingId) + ")"))));
            };
            if (maybeGame instanceof Data_Maybe.Just) {
                var allPlayerStats = Stats_PlayerStats.calculateRankedStats(Stats_PlayerStats.Standings.value)(state.currentData.value0.division.players)(state.currentData.value0.division.games);
                var player1Stats = Data_Array.find(function (p) {
                    return eq(p.playerId)(maybeGame.value0.player1Id);
                })(allPlayerStats);
                var player2Stats = Data_Array.find(function (p) {
                    return eq(p.playerId)(maybeGame.value0.player2Id);
                })(allPlayerStats);
                if (player1Stats instanceof Data_Maybe.Just && player2Stats instanceof Data_Maybe.Just) {
                    if (source instanceof Player1Name) {
                        return Utils_HTML.blackTextDiv(player1Stats.value0.name);
                    };
                    if (source instanceof Player2Name) {
                        return Utils_HTML.blackTextDiv(player2Stats.value0.name);
                    };
                    if (source instanceof Player1Record) {
                        return Utils_HTML.blackTextDiv("Record: " + Stats_MiscOverlayStats.formatRecord(player1Stats.value0));
                    };
                    if (source instanceof Player2Record) {
                        return Utils_HTML.blackTextDiv("Record: " + Stats_MiscOverlayStats.formatRecord(player2Stats.value0));
                    };
                    if (source instanceof Player1AverageScore) {
                        return Utils_HTML.blackTextDiv("Average Score: " + show(Data_Int.round(player1Stats.value0.averageScore)));
                    };
                    if (source instanceof Player2AverageScore) {
                        return Utils_HTML.blackTextDiv("Average Score: " + show(Data_Int.round(player2Stats.value0.averageScore)));
                    };
                    if (source instanceof Player1HighScore) {
                        return Utils_HTML.blackTextDiv("High Score: " + show(player1Stats.value0.highScore));
                    };
                    if (source instanceof Player2HighScore) {
                        return Utils_HTML.blackTextDiv("High Score: " + show(player2Stats.value0.highScore));
                    };
                    if (source instanceof Player1Spread) {
                        return Utils_HTML.blackTextDiv("Spread: " + Utils_Format.formatNumberWithSign(player1Stats.value0.spread));
                    };
                    if (source instanceof Player2Spread) {
                        return Utils_HTML.blackTextDiv("Spread: " + Utils_Format.formatNumberWithSign(player2Stats.value0.spread));
                    };
                    if (source instanceof Player1Rank) {
                        return Utils_HTML.blackTextDiv("Rank: " + show(player1Stats.value0.rank));
                    };
                    if (source instanceof Player2Rank) {
                        return Utils_HTML.blackTextDiv("Rank: " + show(player2Stats.value0.rank));
                    };
                    if (source instanceof Player1RankOrdinal) {
                        return Utils_HTML.blackTextDiv(Utils_Format.formatRankOrdinal(player1Stats.value0.rank));
                    };
                    if (source instanceof Player2RankOrdinal) {
                        return Utils_HTML.blackTextDiv(Utils_Format.formatRankOrdinal(player2Stats.value0.rank));
                    };
                    if (source instanceof Player1Rating) {
                        return Utils_HTML.blackTextDiv("Rating: " + show(player1Stats.value0.currentRating));
                    };
                    if (source instanceof Player2Rating) {
                        return Utils_HTML.blackTextDiv("Rating: " + show(player2Stats.value0.currentRating));
                    };
                    if (source instanceof Player1UnderCam) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatFullUnderCam(player1Stats.value0));
                    };
                    if (source instanceof Player2UnderCam) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatFullUnderCam(player2Stats.value0));
                    };
                    if (source instanceof Player1UnderCamNoSeed) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatUnderCamNoSeed(player1Stats.value0));
                    };
                    if (source instanceof Player2UnderCamNoSeed) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatUnderCamNoSeed(player2Stats.value0));
                    };
                    if (source instanceof Player1UnderCamSmall) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatUnderCamRecord(player1Stats.value0));
                    };
                    if (source instanceof Player2UnderCamSmall) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatUnderCamRecord(player2Stats.value0));
                    };
                    if (source instanceof Player1UnderCamWithRating) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatUnderCamWithRating(player1Stats.value0));
                    };
                    if (source instanceof Player2UnderCamWithRating) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatUnderCamWithRating(player2Stats.value0));
                    };
                    if (source instanceof Player1Bo7) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatBestOf7(player1Stats.value0));
                    };
                    if (source instanceof Player2Bo7) {
                        return Utils_HTML.blackTextDiv(Stats_MiscOverlayStats.formatBestOf7(player2Stats.value0));
                    };
                    if (source instanceof Player1GameHistorySmall) {
                        return renderGameHistoryTable(maybeGame.value0.player1Id)(state.currentData.value0.division.games)(allPlayerStats);
                    };
                    if (source instanceof Player2GameHistorySmall) {
                        return renderGameHistoryTable(maybeGame.value0.player2Id)(state.currentData.value0.division.games)(allPlayerStats);
                    };
                    if (source instanceof Player1GameHistory) {
                        return renderPointsAndGameHistory(player1Stats.value0)(maybeGame.value0.player1Id)(state.currentData.value0.division.games)(allPlayerStats);
                    };
                    if (source instanceof Player2GameHistory) {
                        return renderPointsAndGameHistory(player2Stats.value0)(maybeGame.value0.player2Id)(state.currentData.value0.division.games)(allPlayerStats);
                    };
                    if (source instanceof TournamentData) {
                        return Component_Overlay_BaseOverlay.renderError("Tournament data should not be rendered here");
                    };
                    if (source instanceof UnknownSource) {
                        return Utils_HTML.textDivRaw("text-black p-2")("Unknown source type");
                    };
                    throw new Error("Failed pattern match at Component.Overlay.MiscOverlay (line 145, column 19 - line 210, column 72): " + [ source.constructor.name ]);
                };
                return Component_Overlay_BaseOverlay.renderError("Players not found");
            };
            throw new Error("Failed pattern match at Component.Overlay.MiscOverlay (line 134, column 9 - line 212, column 62): " + [ maybeGame.constructor.name ]);
        };
        throw new Error("Failed pattern match at Component.Overlay.MiscOverlay (line 123, column 3 - line 212, column 62): " + [ state.currentData.constructor.name, state.currentMatch.constructor.name ]);
    };
};
var renderMiscOverlay = function (state) {
    return function (source) {
        if (state.loading) {
            return Component_Overlay_BaseOverlay.renderLoading;
        };
        if (state.error instanceof Data_Maybe.Just) {
            return Component_Overlay_BaseOverlay.renderError(state.error.value0);
        };
        if (state.error instanceof Data_Maybe.Nothing) {
            if (state.currentData instanceof Data_Maybe.Just) {
                var $429 = eq2(source)(TournamentData.value);
                if ($429) {
                    return renderTournamentData(state);
                };
                return renderPlayerData(state)(source);
            };
            if (state.currentData instanceof Data_Maybe.Nothing) {
                return Component_Overlay_BaseOverlay.renderError("No tournament data");
            };
            throw new Error("Failed pattern match at Component.Overlay.MiscOverlay (line 111, column 16 - line 117, column 62): " + [ state.currentData.constructor.name ]);
        };
        throw new Error("Failed pattern match at Component.Overlay.MiscOverlay (line 109, column 8 - line 117, column 62): " + [ state.error.constructor.name ]);
    };
};
var parseSource = function (v) {
    if (v === "player1-name") {
        return Player1Name.value;
    };
    if (v === "player2-name") {
        return Player2Name.value;
    };
    if (v === "player1-record") {
        return Player1Record.value;
    };
    if (v === "player2-record") {
        return Player2Record.value;
    };
    if (v === "player1-average-score") {
        return Player1AverageScore.value;
    };
    if (v === "player2-average-score") {
        return Player2AverageScore.value;
    };
    if (v === "player1-high-score") {
        return Player1HighScore.value;
    };
    if (v === "player2-high-score") {
        return Player2HighScore.value;
    };
    if (v === "player1-spread") {
        return Player1Spread.value;
    };
    if (v === "player2-spread") {
        return Player2Spread.value;
    };
    if (v === "player1-rank") {
        return Player1Rank.value;
    };
    if (v === "player2-rank") {
        return Player2Rank.value;
    };
    if (v === "player1-rank-ordinal") {
        return Player1RankOrdinal.value;
    };
    if (v === "player2-rank-ordinal") {
        return Player2RankOrdinal.value;
    };
    if (v === "player1-rating") {
        return Player1Rating.value;
    };
    if (v === "player2-rating") {
        return Player2Rating.value;
    };
    if (v === "player1-under-cam") {
        return Player1UnderCam.value;
    };
    if (v === "player2-under-cam") {
        return Player2UnderCam.value;
    };
    if (v === "player1-under-cam-no-seed") {
        return Player1UnderCamNoSeed.value;
    };
    if (v === "player2-under-cam-no-seed") {
        return Player2UnderCamNoSeed.value;
    };
    if (v === "player1-under-cam-small") {
        return Player1UnderCamSmall.value;
    };
    if (v === "player2-under-cam-small") {
        return Player2UnderCamSmall.value;
    };
    if (v === "player1-under-cam-with-rating") {
        return Player1UnderCamWithRating.value;
    };
    if (v === "player2-under-cam-with-rating") {
        return Player2UnderCamWithRating.value;
    };
    if (v === "player1-bo7") {
        return Player1Bo7.value;
    };
    if (v === "player2-bo7") {
        return Player2Bo7.value;
    };
    if (v === "player1-game-history") {
        return Player1GameHistory.value;
    };
    if (v === "player2-game-history") {
        return Player2GameHistory.value;
    };
    if (v === "player1-game-history-small") {
        return Player1GameHistorySmall.value;
    };
    if (v === "player2-game-history-small") {
        return Player2GameHistorySmall.value;
    };
    if (v === "tournament-data") {
        return TournamentData.value;
    };
    return UnknownSource.value;
};
var component = function (dictMonadAff) {
    var mkComponent = Component_Overlay_BaseOverlay.mkComponent(dictMonadAff);
    return function (dictMonadBroadcast) {
        var mkComponent1 = mkComponent(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            return mkComponent1(dictMonadEmitters)(function (state) {
                return renderMiscOverlay(state)(state.extra);
            });
        };
    };
};
export {
    Player1Name,
    Player2Name,
    Player1Record,
    Player2Record,
    Player1AverageScore,
    Player2AverageScore,
    Player1HighScore,
    Player2HighScore,
    Player1Spread,
    Player2Spread,
    Player1Rank,
    Player2Rank,
    Player1RankOrdinal,
    Player2RankOrdinal,
    Player1Rating,
    Player2Rating,
    Player1UnderCam,
    Player2UnderCam,
    Player1UnderCamNoSeed,
    Player2UnderCamNoSeed,
    Player1UnderCamSmall,
    Player2UnderCamSmall,
    Player1UnderCamWithRating,
    Player2UnderCamWithRating,
    Player1Bo7,
    Player2Bo7,
    Player1GameHistory,
    Player2GameHistory,
    Player1GameHistorySmall,
    Player2GameHistorySmall,
    TournamentData,
    UnknownSource,
    parseSource,
    component,
    renderMiscOverlay,
    renderPlayerData,
    renderTournamentData,
    renderGameHistoryTable,
    renderPointsDisplay,
    renderPointsAndGameHistory,
    eqSourceType
};
