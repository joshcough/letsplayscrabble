// Generated by purs version 0.15.15
import * as CSS_Class from "../CSS.Class/index.js";
import * as CSS_ThemeColor from "../CSS.ThemeColor/index.js";
import * as Config_Themes from "../Config.Themes/index.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Semiring from "../Data.Semiring/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Halogen_Component from "../Halogen.Component/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_Query_HalogenM from "../Halogen.Query.HalogenM/index.js";
import * as Route from "../Route/index.js";
import * as Routing_Duplex from "../Routing.Duplex/index.js";
import * as Utils_CSS from "../Utils.CSS/index.js";
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var sum = /* #__PURE__ */ Data_Foldable.sum(Data_Foldable.foldableArray)(Data_Semiring.semiringInt);
var pure = /* #__PURE__ */ Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM);
var Initialize = /* #__PURE__ */ (function () {
    function Initialize() {

    };
    Initialize.value = new Initialize();
    return Initialize;
})();
var renderSource = function (theme) {
    return function (userId) {
        return function (source) {
            var getMinHeight = function (h) {
                if (h === "h-8") {
                    return "min-h-[30px]";
                };
                if (h === "h-32") {
                    return "min-h-[130px]";
                };
                if (h === "h-48") {
                    return "min-h-[200px]";
                };
                return "min-h-[30px]";
            };
            var iframeSrc = "#/overlay/misc?userId=" + (show(userId) + ("&source=" + source.source));
            var hashPart = Routing_Duplex.print(Route.routeCodec)(new Route.MiscOverlay({
                userId: userId,
                tournamentId: Data_Maybe.Nothing.value,
                divisionName: Data_Maybe.Nothing.value,
                source: source.source
            }));
            var url = "http://localhost:4000/#" + hashPart;
            return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.P_4.value), Utils_CSS.cls(CSS_Class.RoundedLg.value), Utils_CSS.cls(CSS_Class.Shadow.value), Utils_CSS.cls(CSS_Class.Border.value), Utils_CSS.thm(theme)(CSS_ThemeColor.CardBackground.value), Utils_CSS.thm(theme)(CSS_ThemeColor.PrimaryBorder.value) ]) ])([ Halogen_HTML_Elements.h4([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.FontSemibold.value), Utils_CSS.cls(CSS_Class.Mb_2.value), Utils_CSS.thm(theme)(CSS_ThemeColor.TextPrimary.value) ]) ])([ Halogen_HTML_Core.text(source.description) ]), Halogen_HTML_Elements.a([ Halogen_HTML_Properties.href(url), Halogen_HTML_Properties.target("_blank"), Utils_CSS.css([ Utils_CSS.cls(CSS_Class.TextBlue600.value), Utils_CSS.hover("text-blue-800"), Utils_CSS.cls(CSS_Class.Underline.value), Utils_CSS.cls(CSS_Class.Text_Sm.value), Utils_CSS.cls(CSS_Class.BreakAll.value), Utils_CSS.cls(CSS_Class.Block.value), Utils_CSS.cls(CSS_Class.Mb_3.value) ]) ])([ Halogen_HTML_Core.text(url) ]), Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Mt_3.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.P_2.value), Utils_CSS.cls(CSS_Class.BgGray_50.value), Utils_CSS.cls(CSS_Class.Border.value), Utils_CSS.cls(CSS_Class.Rounded.value), Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.ItemsCenter.value), Utils_CSS.raw(getMinHeight(source.height)) ]) ])([ Halogen_HTML_Elements.iframe([ Halogen_HTML_Properties.src(iframeSrc), Utils_CSS.css([ Utils_CSS.cls(CSS_Class.W_Full.value), Utils_CSS.cls(CSS_Class.Border_0.value), Utils_CSS.raw(source.height) ]), Halogen_HTML_Properties.title("Stats overlay: " + source.source) ]) ]) ]) ]);
        };
    };
};
var renderGroup = function (theme) {
    return function (userId) {
        return function (group) {
            return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Mb_8.value) ]) ])([ Halogen_HTML_Elements.h2([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.PageTitle.value), Utils_CSS.cls(CSS_Class.Mb_4.value), Utils_CSS.cls(CSS_Class.BorderB.value), Utils_CSS.cls(CSS_Class.Pb_2.value), Utils_CSS.thm(theme)(CSS_ThemeColor.TextAccent.value) ]) ])([ Halogen_HTML_Core.text(group.title) ]), Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.SpaceY_6.value) ]) ])(map(renderSource(theme)(userId))(group.sources)) ]);
        };
    };
};
var overlayGroups = [ {
    title: "Basic Player Info",
    sources: [ {
        source: "player1-name",
        description: "Player 1 Name",
        height: "h-8"
    }, {
        source: "player2-name",
        description: "Player 2 Name",
        height: "h-8"
    }, {
        source: "player1-record",
        description: "Player 1 Record (W-L-T)",
        height: "h-8"
    }, {
        source: "player2-record",
        description: "Player 2 Record (W-L-T)",
        height: "h-8"
    }, {
        source: "player1-average-score",
        description: "Player 1 Average Score",
        height: "h-8"
    }, {
        source: "player2-average-score",
        description: "Player 2 Average Score",
        height: "h-8"
    }, {
        source: "player1-high-score",
        description: "Player 1 High Score",
        height: "h-8"
    }, {
        source: "player2-high-score",
        description: "Player 2 High Score",
        height: "h-8"
    }, {
        source: "player1-spread",
        description: "Player 1 Spread",
        height: "h-8"
    }, {
        source: "player2-spread",
        description: "Player 2 Spread",
        height: "h-8"
    } ]
}, {
    title: "Rankings",
    sources: [ {
        source: "player1-rank",
        description: "Player 1 Rank (number)",
        height: "h-8"
    }, {
        source: "player2-rank",
        description: "Player 2 Rank (number)",
        height: "h-8"
    }, {
        source: "player1-rank-ordinal",
        description: "Player 1 Rank (1st, 2nd, etc.)",
        height: "h-8"
    }, {
        source: "player2-rank-ordinal",
        description: "Player 2 Rank (1st, 2nd, etc.)",
        height: "h-8"
    } ]
}, {
    title: "Ratings",
    sources: [ {
        source: "player1-rating",
        description: "Player 1 Rating",
        height: "h-8"
    }, {
        source: "player2-rating",
        description: "Player 2 Rating",
        height: "h-8"
    } ]
}, {
    title: "Under Camera Displays",
    sources: [ {
        source: "player1-under-cam",
        description: "Player 1 Under Cam (full with seed)",
        height: "h-8"
    }, {
        source: "player2-under-cam",
        description: "Player 2 Under Cam (full with seed)",
        height: "h-8"
    }, {
        source: "player1-under-cam-no-seed",
        description: "Player 1 Under Cam (no seed)",
        height: "h-8"
    }, {
        source: "player2-under-cam-no-seed",
        description: "Player 2 Under Cam (no seed)",
        height: "h-8"
    }, {
        source: "player1-under-cam-small",
        description: "Player 1 Under Cam (small)",
        height: "h-8"
    }, {
        source: "player2-under-cam-small",
        description: "Player 2 Under Cam (small)",
        height: "h-8"
    }, {
        source: "player1-under-cam-with-rating",
        description: "Player 1 Under Cam (with rating)",
        height: "h-8"
    }, {
        source: "player2-under-cam-with-rating",
        description: "Player 2 Under Cam (with rating)",
        height: "h-8"
    } ]
}, {
    title: "Game Data",
    sources: [ {
        source: "player1-game-history",
        description: "Player 1 Game History",
        height: "h-48"
    }, {
        source: "player2-game-history",
        description: "Player 2 Game History",
        height: "h-48"
    }, {
        source: "player1-game-history-small",
        description: "Player 1 Game History Small",
        height: "h-32"
    }, {
        source: "player2-game-history-small",
        description: "Player 2 Game History Small",
        height: "h-32"
    } ]
}, {
    title: "Best of 7 & Tournament",
    sources: [ {
        source: "player1-bo7",
        description: "Player 1 Best of 7 Record",
        height: "h-8"
    }, {
        source: "player2-bo7",
        description: "Player 2 Best of 7 Record",
        height: "h-8"
    }, {
        source: "tournament-data",
        description: "Tournament Name, Lexicon, Round",
        height: "h-8"
    } ]
} ];
var renderNotes = function (theme) {
    return function (userId) {
        var totalSources = sum(map(function (g) {
            return Data_Array.length(g.sources);
        })(overlayGroups));
        return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Mt_12.value), Utils_CSS.cls(CSS_Class.P_4.value), Utils_CSS.cls(CSS_Class.RoundedLg.value), Utils_CSS.thm(theme)(CSS_ThemeColor.CardBackground.value) ]) ])([ Halogen_HTML_Elements.h3([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.FontSemibold.value), Utils_CSS.cls(CSS_Class.Mb_2.value), Utils_CSS.thm(theme)(CSS_ThemeColor.TextPrimary.value) ]) ])([ Halogen_HTML_Core.text("Testing Notes:") ]), Halogen_HTML_Elements.ul([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Text_Sm.value), Utils_CSS.cls(CSS_Class.SpaceY_1.value), Utils_CSS.thm(theme)(CSS_ThemeColor.TextSecondary.value) ]) ])([ Halogen_HTML_Elements.li_([ Halogen_HTML_Core.text("\u2022 All links open in new tabs for easy testing") ]), Halogen_HTML_Elements.li_([ Halogen_HTML_Core.text("\u2022 Rendered content shows below each URL") ]), Halogen_HTML_Elements.li_([ Halogen_HTML_Core.text("\u2022 Make sure to set a current match in the admin interface first") ]), Halogen_HTML_Elements.li_([ Halogen_HTML_Core.text("\u2022 URLs will show \"Loading...\" or \"No data\" if no match is selected") ]), Halogen_HTML_Elements.li_([ Halogen_HTML_Core.text("\u2022 All URLs are scoped to your user account (ID: " + (show(userId) + ")")) ]), Halogen_HTML_Elements.li_([ Halogen_HTML_Core.text("\u2022 Total: " + (show(totalSources) + " source-based URLs (more to be added)")) ]) ]) ]);
    };
};
var render = function (state) {
    return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.thm(state.theme)(CSS_ThemeColor.PageBackground.value), Utils_CSS.cls(CSS_Class.MinHScreen.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.PageContainer.value) ]) ])([ Halogen_HTML_Elements.h1([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.PageTitle.value), Utils_CSS.cls(CSS_Class.Mb_8.value), Utils_CSS.cls(CSS_Class.TextCenter.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.TextPrimary.value) ]) ])([ Halogen_HTML_Core.text("Misc Overlay Testing Page (User ID: " + (show(2) + ")")) ]), Halogen_HTML_Elements.div_(map(renderGroup(state.theme)(2))(overlayGroups)), renderNotes(state.theme)(2) ]) ]);
};
var initialState = function (v) {
    return {
        theme: Config_Themes.getTheme("scrabble")
    };
};
var handleAction = function (dictMonadAff) {
    return function (v) {
        return pure(Data_Unit.unit);
    };
};
var component = function (dictMonadAff) {
    return Halogen_Component.mkComponent({
        initialState: initialState,
        render: render,
        "eval": Halogen_Component.mkEval({
            handleQuery: Halogen_Component.defaultEval.handleQuery,
            receive: Halogen_Component.defaultEval.receive,
            finalize: Halogen_Component.defaultEval.finalize,
            handleAction: handleAction(dictMonadAff),
            initialize: new Data_Maybe.Just(Initialize.value)
        })
    });
};
export {
    Initialize,
    component,
    initialState,
    overlayGroups,
    render,
    renderGroup,
    renderSource,
    renderNotes,
    handleAction
};
