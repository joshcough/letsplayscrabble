// Generated by purs version 0.15.15
import * as CSS_Class from "../CSS.Class/index.js";
import * as CSS_ThemeColor from "../CSS.ThemeColor/index.js";
import * as Config_Themes from "../Config.Themes/index.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Control_Monad_State_Class from "../Control.Monad.State.Class/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Halogen_Component from "../Halogen.Component/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_HTML_Events from "../Halogen.HTML.Events/index.js";
import * as Halogen_HTML_Properties from "../Halogen.HTML.Properties/index.js";
import * as Halogen_Query_HalogenM from "../Halogen.Query.HalogenM/index.js";
import * as Route from "../Route/index.js";
import * as Utils_CSS from "../Utils.CSS/index.js";
var pure = /* #__PURE__ */ Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM);
var modify_ = /* #__PURE__ */ Control_Monad_State_Class.modify_(Halogen_Query_HalogenM.monadStateHalogenM);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit)(Halogen_Query_HalogenM.bindHalogenM);
var bind = /* #__PURE__ */ Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM);
var get = /* #__PURE__ */ Control_Monad_State_Class.get(Halogen_Query_HalogenM.monadStateHalogenM);
var eq = /* #__PURE__ */ Data_Eq.eq(Route.eqRoute);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var Logout = /* #__PURE__ */ (function () {
    function Logout() {

    };
    Logout.value = new Logout();
    return Logout;
})();
var NavigateToHome = /* #__PURE__ */ (function () {
    function NavigateToHome() {

    };
    NavigateToHome.value = new NavigateToHome();
    return NavigateToHome;
})();
var NavigateToOverlays = /* #__PURE__ */ (function () {
    function NavigateToOverlays() {

    };
    NavigateToOverlays.value = new NavigateToOverlays();
    return NavigateToOverlays;
})();
var NavigateToTournamentManager = /* #__PURE__ */ (function () {
    function NavigateToTournamentManager() {

    };
    NavigateToTournamentManager.value = new NavigateToTournamentManager();
    return NavigateToTournamentManager;
})();
var NavigateToCurrentMatch = /* #__PURE__ */ (function () {
    function NavigateToCurrentMatch() {

    };
    NavigateToCurrentMatch.value = new NavigateToCurrentMatch();
    return NavigateToCurrentMatch;
})();
var Initialize = /* #__PURE__ */ (function () {
    function Initialize() {

    };
    Initialize.value = new Initialize();
    return Initialize;
})();
var Receive = /* #__PURE__ */ (function () {
    function Receive(value0) {
        this.value0 = value0;
    };
    Receive.create = function (value0) {
        return new Receive(value0);
    };
    return Receive;
})();
var HandleLogout = /* #__PURE__ */ (function () {
    function HandleLogout() {

    };
    HandleLogout.value = new HandleLogout();
    return HandleLogout;
})();
var HandleHomeClick = /* #__PURE__ */ (function () {
    function HandleHomeClick() {

    };
    HandleHomeClick.value = new HandleHomeClick();
    return HandleHomeClick;
})();
var HandleOverlaysClick = /* #__PURE__ */ (function () {
    function HandleOverlaysClick() {

    };
    HandleOverlaysClick.value = new HandleOverlaysClick();
    return HandleOverlaysClick;
})();
var HandleTournamentManagerClick = /* #__PURE__ */ (function () {
    function HandleTournamentManagerClick() {

    };
    HandleTournamentManagerClick.value = new HandleTournamentManagerClick();
    return HandleTournamentManagerClick;
})();
var HandleCurrentMatchClick = /* #__PURE__ */ (function () {
    function HandleCurrentMatchClick() {

    };
    HandleCurrentMatchClick.value = new HandleCurrentMatchClick();
    return HandleCurrentMatchClick;
})();
var ToggleDropdown = /* #__PURE__ */ (function () {
    function ToggleDropdown(value0) {
        this.value0 = value0;
    };
    ToggleDropdown.create = function (value0) {
        return new ToggleDropdown(value0);
    };
    return ToggleDropdown;
})();
var ToggleAdminDropdown = /* #__PURE__ */ (function () {
    function ToggleAdminDropdown(value0) {
        this.value0 = value0;
    };
    ToggleAdminDropdown.create = function (value0) {
        return new ToggleAdminDropdown(value0);
    };
    return ToggleAdminDropdown;
})();
var CloseDropdown = /* #__PURE__ */ (function () {
    function CloseDropdown() {

    };
    CloseDropdown.value = new CloseDropdown();
    return CloseDropdown;
})();
var isAdminActive = function (currentRoute) {
    if (currentRoute instanceof Data_Maybe.Just && currentRoute.value0 instanceof Route.CurrentMatch) {
        return true;
    };
    return false;
};
var initialState = function (input) {
    return {
        username: input.username,
        userId: input.userId,
        theme: Config_Themes.getTheme("scrabble"),
        isDropdownOpen: false,
        isAdminDropdownOpen: false,
        currentRoute: input.currentRoute
    };
};
var handleAction = function (dictMonadEffect) {
    return function (v) {
        if (v instanceof Initialize) {
            return pure(Data_Unit.unit);
        };
        if (v instanceof Receive) {
            return modify_(function (v1) {
                var $33 = {};
                for (var $34 in v1) {
                    if ({}.hasOwnProperty.call(v1, $34)) {
                        $33[$34] = v1[$34];
                    };
                };
                $33.currentRoute = v.value0.currentRoute;
                return $33;
            });
        };
        if (v instanceof HandleLogout) {
            return discard(modify_(function (v1) {
                var $37 = {};
                for (var $38 in v1) {
                    if ({}.hasOwnProperty.call(v1, $38)) {
                        $37[$38] = v1[$38];
                    };
                };
                $37.isDropdownOpen = false;
                return $37;
            }))(function () {
                return Halogen_Query_HalogenM.raise(Logout.value);
            });
        };
        if (v instanceof HandleHomeClick) {
            return discard(modify_(function (v1) {
                var $40 = {};
                for (var $41 in v1) {
                    if ({}.hasOwnProperty.call(v1, $41)) {
                        $40[$41] = v1[$41];
                    };
                };
                $40.isDropdownOpen = false;
                $40.isAdminDropdownOpen = false;
                return $40;
            }))(function () {
                return Halogen_Query_HalogenM.raise(NavigateToHome.value);
            });
        };
        if (v instanceof HandleOverlaysClick) {
            return discard(modify_(function (v1) {
                var $43 = {};
                for (var $44 in v1) {
                    if ({}.hasOwnProperty.call(v1, $44)) {
                        $43[$44] = v1[$44];
                    };
                };
                $43.isDropdownOpen = false;
                $43.isAdminDropdownOpen = false;
                return $43;
            }))(function () {
                return Halogen_Query_HalogenM.raise(NavigateToOverlays.value);
            });
        };
        if (v instanceof HandleTournamentManagerClick) {
            return discard(modify_(function (v1) {
                var $46 = {};
                for (var $47 in v1) {
                    if ({}.hasOwnProperty.call(v1, $47)) {
                        $46[$47] = v1[$47];
                    };
                };
                $46.isDropdownOpen = false;
                $46.isAdminDropdownOpen = false;
                return $46;
            }))(function () {
                return Halogen_Query_HalogenM.raise(NavigateToTournamentManager.value);
            });
        };
        if (v instanceof HandleCurrentMatchClick) {
            return discard(modify_(function (v1) {
                var $49 = {};
                for (var $50 in v1) {
                    if ({}.hasOwnProperty.call(v1, $50)) {
                        $49[$50] = v1[$50];
                    };
                };
                $49.isDropdownOpen = false;
                $49.isAdminDropdownOpen = false;
                return $49;
            }))(function () {
                return Halogen_Query_HalogenM.raise(NavigateToCurrentMatch.value);
            });
        };
        if (v instanceof ToggleDropdown) {
            return bind(get)(function (state) {
                return modify_(function (v1) {
                    var $52 = {};
                    for (var $53 in v1) {
                        if ({}.hasOwnProperty.call(v1, $53)) {
                            $52[$53] = v1[$53];
                        };
                    };
                    $52.isDropdownOpen = !state.isDropdownOpen;
                    return $52;
                });
            });
        };
        if (v instanceof ToggleAdminDropdown) {
            return bind(get)(function (state) {
                return modify_(function (v1) {
                    var $56 = {};
                    for (var $57 in v1) {
                        if ({}.hasOwnProperty.call(v1, $57)) {
                            $56[$57] = v1[$57];
                        };
                    };
                    $56.isAdminDropdownOpen = !state.isAdminDropdownOpen;
                    return $56;
                });
            });
        };
        if (v instanceof CloseDropdown) {
            return modify_(function (v1) {
                var $60 = {};
                for (var $61 in v1) {
                    if ({}.hasOwnProperty.call(v1, $61)) {
                        $60[$61] = v1[$61];
                    };
                };
                $60.isDropdownOpen = false;
                return $60;
            });
        };
        throw new Error("Failed pattern match at Component.Navigation (line 233, column 16 - line 268, column 43): " + [ v.constructor.name ]);
    };
};
var getActiveClass = function (currentRoute) {
    return function (route) {
        if (currentRoute instanceof Data_Maybe.Just && eq(currentRoute.value0)(route)) {
            return Utils_CSS.cls(CSS_Class.NavLinkActive.value);
        };
        return Utils_CSS.cls(CSS_Class.Empty.value);
    };
};
var render = function (state) {
    return Halogen_HTML_Elements.nav([ Utils_CSS.css([ Utils_CSS.thm(state.theme)(CSS_ThemeColor.CardBackground.value), Utils_CSS.cls(CSS_Class.BorderB_4.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.PrimaryBorder.value) ]), Halogen_HTML_Properties.attr("style")("position: relative; z-index: 1000;") ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.MaxW_7xl.value), Utils_CSS.cls(CSS_Class.Mx_Auto.value), Utils_CSS.cls(CSS_Class.Px_4.value), Utils_CSS.raw("sm:px-6 lg:px-8") ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.JustifyBetween.value), Utils_CSS.cls(CSS_Class.H_16.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.Gap_2.value) ]) ])([ Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.NavLink.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.TextPrimary.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.HoverBackground.value), getActiveClass(state.currentRoute)(Route.Home.value) ]), Halogen_HTML_Events.onClick(function (v) {
        return HandleHomeClick.value;
    }) ])([ Halogen_HTML_Core.text("Home") ]), Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.NavLink.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.TextPrimary.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.HoverBackground.value), getActiveClass(state.currentRoute)(Route.TournamentManager.value) ]), Halogen_HTML_Events.onClick(function (v) {
        return HandleTournamentManagerClick.value;
    }) ])([ Halogen_HTML_Core.text("Tournament Manager") ]), Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.NavLink.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.TextPrimary.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.HoverBackground.value), getActiveClass(state.currentRoute)(Route.Overlays.value) ]), Halogen_HTML_Events.onClick(function (v) {
        return HandleOverlaysClick.value;
    }) ])([ Halogen_HTML_Core.text("Overlays") ]), Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Relative.value) ]), Halogen_HTML_Properties.attr("style")("z-index: 1001;") ])([ Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.NavLink.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.TextPrimary.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.HoverBackground.value), (function () {
        var $65 = isAdminActive(state.currentRoute);
        if ($65) {
            return Utils_CSS.cls(CSS_Class.NavLinkActive.value);
        };
        return Utils_CSS.cls(CSS_Class.Empty.value);
    })() ]), Halogen_HTML_Events.onClick(ToggleAdminDropdown.create) ])([ Halogen_HTML_Core.text("Admin"), Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ Halogen_HTML_Properties.attr("class")("dropdown-arrow" + (function () {
        if (state.isAdminDropdownOpen) {
            return " dropdown-arrow-open";
        };
        return "";
    })()), Halogen_HTML_Properties.attr("fill")("none"), Halogen_HTML_Properties.attr("stroke")("currentColor"), Halogen_HTML_Properties.attr("viewBox")("0 0 24 24") ])([ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ Halogen_HTML_Properties.attr("stroke-linecap")("round"), Halogen_HTML_Properties.attr("stroke-linejoin")("round"), Halogen_HTML_Properties.attr("stroke-width")("2"), Halogen_HTML_Properties.attr("d")("M19 9l-7 7-7-7") ])([  ]) ]) ]), (function () {
        if (state.isAdminDropdownOpen) {
            return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.raw("nav-dropdown") ]), Halogen_HTML_Properties.attr("style")("z-index: 9999;") ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Py_1.value) ]) ])([ Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.raw("nav-dropdown-item") ]), Halogen_HTML_Events.onClick(function (v) {
                return HandleCurrentMatchClick.value;
            }) ])([ Halogen_HTML_Core.text("Current Match") ]) ]) ]);
        };
        return Halogen_HTML_Core.text("");
    })() ]) ]), Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Flex.value), Utils_CSS.cls(CSS_Class.ItemsCenter.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Relative.value) ]) ])([ Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.NavUserButton.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.TextPrimary.value), Utils_CSS.thm(state.theme)(CSS_ThemeColor.HoverBackground.value) ]), Halogen_HTML_Events.onClick(ToggleDropdown.create) ])([ Halogen_HTML_Core.text(state.username), Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("svg")([ Halogen_HTML_Properties.attr("class")("dropdown-arrow" + (function () {
        if (state.isDropdownOpen) {
            return " dropdown-arrow-open";
        };
        return "";
    })()), Halogen_HTML_Properties.attr("fill")("none"), Halogen_HTML_Properties.attr("stroke")("currentColor"), Halogen_HTML_Properties.attr("viewBox")("0 0 24 24") ])([ Halogen_HTML_Elements.elementNS("http://www.w3.org/2000/svg")("path")([ Halogen_HTML_Properties.attr("stroke-linecap")("round"), Halogen_HTML_Properties.attr("stroke-linejoin")("round"), Halogen_HTML_Properties.attr("stroke-width")("2"), Halogen_HTML_Properties.attr("d")("M19 9l-7 7-7-7") ])([  ]) ]) ]), (function () {
        if (state.isDropdownOpen) {
            return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.raw("nav-dropdown"), Utils_CSS.cls(CSS_Class.Right_0.value), Utils_CSS.cls(CSS_Class.Z_50.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Py_1.value) ]) ])([ Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.Px_4.value), Utils_CSS.cls(CSS_Class.Py_2.value), Utils_CSS.cls(CSS_Class.Text_Xs.value), Utils_CSS.cls(CSS_Class.TextGray500.value), Utils_CSS.cls(CSS_Class.BorderB.value) ]) ])([ Halogen_HTML_Core.text("ID: " + show(state.userId)) ]), Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.raw("nav-dropdown-item") ]) ])([ Halogen_HTML_Core.text("Settings") ]), Halogen_HTML_Elements.button([ Utils_CSS.css([ Utils_CSS.raw("nav-dropdown-item") ]), Halogen_HTML_Events.onClick(function (v) {
                return HandleLogout.value;
            }) ])([ Halogen_HTML_Core.text("Logout") ]) ]) ]);
        };
        return Halogen_HTML_Core.text("");
    })() ]) ]) ]) ]) ]);
};
var component = function (dictMonadEffect) {
    return Halogen_Component.mkComponent({
        initialState: initialState,
        render: render,
        "eval": Halogen_Component.mkEval({
            handleQuery: Halogen_Component.defaultEval.handleQuery,
            finalize: Halogen_Component.defaultEval.finalize,
            handleAction: handleAction(dictMonadEffect),
            initialize: new Data_Maybe.Just(Initialize.value),
            receive: function ($70) {
                return Data_Maybe.Just.create(Receive.create($70));
            }
        })
    });
};
export {
    Logout,
    NavigateToHome,
    NavigateToOverlays,
    NavigateToTournamentManager,
    NavigateToCurrentMatch,
    Initialize,
    Receive,
    HandleLogout,
    HandleHomeClick,
    HandleOverlaysClick,
    HandleTournamentManagerClick,
    HandleCurrentMatchClick,
    ToggleDropdown,
    ToggleAdminDropdown,
    CloseDropdown,
    component,
    initialState,
    getActiveClass,
    isAdminActive,
    render,
    handleAction
};
