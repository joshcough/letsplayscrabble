// Generated by purs version 0.15.15
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Identity from "../Data.Identity/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Stats_MiscOverlayStats from "../Stats.MiscOverlayStats/index.js";
import * as Test_Spec from "../Test.Spec/index.js";
import * as Test_Spec_Assertions from "../Test.Spec.Assertions/index.js";
var describe = /* #__PURE__ */ Test_Spec.describe(Data_Identity.monadIdentity);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit);
var discard1 = /* #__PURE__ */ discard(/* #__PURE__ */ Test_Spec.bindSpecT(Data_Identity.bindIdentity));
var it = /* #__PURE__ */ Test_Spec.it(Data_Identity.monadIdentity)(Test_Spec.exampleMUnit);
var shouldEqual = /* #__PURE__ */ Test_Spec_Assertions.shouldEqual(Effect_Aff.monadThrowAff);
var shouldEqual1 = /* #__PURE__ */ shouldEqual(Data_Show.showString)(Data_Eq.eqString);
var shouldEqual2 = /* #__PURE__ */ shouldEqual(Data_Show.showInt)(Data_Eq.eqInt);
var discard2 = /* #__PURE__ */ discard(Effect_Aff.bindAff);
var mockGameWithScore = function (round) {
    return function (p1Score) {
        return function (p2Score) {
            return {
                id: round,
                player1Id: 1,
                player2Id: 2,
                player1Score: new Data_Maybe.Just(p1Score),
                player2Score: new Data_Maybe.Just(p2Score),
                roundNumber: round,
                isBye: false,
                pairingId: Data_Maybe.Nothing.value
            };
        };
    };
};
var mockGame = function (round) {
    return function (hasScores) {
        return {
            id: round,
            player1Id: 1,
            player2Id: 2,
            player1Score: (function () {
                if (hasScores) {
                    return new Data_Maybe.Just(400);
                };
                return Data_Maybe.Nothing.value;
            })(),
            player2Score: (function () {
                if (hasScores) {
                    return new Data_Maybe.Just(380);
                };
                return Data_Maybe.Nothing.value;
            })(),
            roundNumber: round,
            isBye: false,
            pairingId: Data_Maybe.Nothing.value
        };
    };
};
var mkPlayer = function (playerId) {
    return function (name) {
        return function (rank) {
            return function (seed) {
                return function (wins) {
                    return function (losses) {
                        return function (ties) {
                            return function (spread) {
                                return function (averageScore) {
                                    return function (averageOpponentScore) {
                                        return function (highScore) {
                                            return function (initialRating) {
                                                return function (currentRating) {
                                                    return function (ratingDiff) {
                                                        return function (photo) {
                                                            return function (xtPhotoUrl) {
                                                                return {
                                                                    playerId: playerId,
                                                                    name: name,
                                                                    rank: rank,
                                                                    seed: seed,
                                                                    wins: wins,
                                                                    losses: losses,
                                                                    ties: ties,
                                                                    spread: spread,
                                                                    averageScore: averageScore,
                                                                    averageOpponentScore: averageOpponentScore,
                                                                    highScore: highScore,
                                                                    initialRating: initialRating,
                                                                    currentRating: currentRating,
                                                                    ratingDiff: ratingDiff,
                                                                    photo: photo,
                                                                    xtPhotoUrl: xtPhotoUrl
                                                                };
                                                            };
                                                        };
                                                    };
                                                };
                                            };
                                        };
                                    };
                                };
                            };
                        };
                    };
                };
            };
        };
    };
};
var mockPlayer = /* #__PURE__ */ (function () {
    return mkPlayer(1)("Test Player")(1)(1)(0)(0)(0)(0)(400.0)(400.0)(500)(1500)(1500)(0)(Data_Maybe.Nothing.value)(Data_Maybe.Nothing.value);
})();
var mockPlayerWith = function (f) {
    return f(mockPlayer);
};
var spec = /* #__PURE__ */ describe("Stats.MiscOverlayStats")(/* #__PURE__ */ discard1(/* #__PURE__ */ describe("formatRecord")(/* #__PURE__ */ discard1(/* #__PURE__ */ it("formats W-L record")(/* #__PURE__ */ (function () {
    var player = {
        averageOpponentScore: mockPlayer.averageOpponentScore,
        averageScore: mockPlayer.averageScore,
        currentRating: mockPlayer.currentRating,
        highScore: mockPlayer.highScore,
        initialRating: mockPlayer.initialRating,
        name: mockPlayer.name,
        photo: mockPlayer.photo,
        playerId: mockPlayer.playerId,
        rank: mockPlayer.rank,
        ratingDiff: mockPlayer.ratingDiff,
        seed: mockPlayer.seed,
        spread: mockPlayer.spread,
        xtPhotoUrl: mockPlayer.xtPhotoUrl,
        wins: 10,
        losses: 5,
        ties: 0
    };
    return shouldEqual1(Stats_MiscOverlayStats.formatRecord(player))("10-5");
})()))(function () {
    return discard1(it("includes ties when present")((function () {
        var player = {
            averageOpponentScore: mockPlayer.averageOpponentScore,
            averageScore: mockPlayer.averageScore,
            currentRating: mockPlayer.currentRating,
            highScore: mockPlayer.highScore,
            initialRating: mockPlayer.initialRating,
            name: mockPlayer.name,
            photo: mockPlayer.photo,
            playerId: mockPlayer.playerId,
            rank: mockPlayer.rank,
            ratingDiff: mockPlayer.ratingDiff,
            seed: mockPlayer.seed,
            spread: mockPlayer.spread,
            xtPhotoUrl: mockPlayer.xtPhotoUrl,
            wins: 10,
            losses: 5,
            ties: 2
        };
        return shouldEqual1(Stats_MiscOverlayStats.formatRecord(player))("10-5-2");
    })()))(function () {
        return it("handles zero ties")(shouldEqual1(Stats_MiscOverlayStats.formatRecord(mockPlayer))("0-0"));
    });
})))(function () {
    return discard1(describe("getPlaceOrSeedLabel")(discard1(it("returns 'Seed' when no games played")(shouldEqual1(Stats_MiscOverlayStats.getPlaceOrSeedLabel(mockPlayer))("Seed")))(function () {
        return discard1(it("returns 'Place' when games played")((function () {
            var player = {
                averageOpponentScore: mockPlayer.averageOpponentScore,
                averageScore: mockPlayer.averageScore,
                currentRating: mockPlayer.currentRating,
                highScore: mockPlayer.highScore,
                initialRating: mockPlayer.initialRating,
                name: mockPlayer.name,
                photo: mockPlayer.photo,
                playerId: mockPlayer.playerId,
                rank: mockPlayer.rank,
                ratingDiff: mockPlayer.ratingDiff,
                seed: mockPlayer.seed,
                spread: mockPlayer.spread,
                ties: mockPlayer.ties,
                xtPhotoUrl: mockPlayer.xtPhotoUrl,
                wins: 5,
                losses: 2
            };
            return shouldEqual1(Stats_MiscOverlayStats.getPlaceOrSeedLabel(player))("Place");
        })()))(function () {
            return it("returns 'Place' when only losses")((function () {
                var player = {
                    averageOpponentScore: mockPlayer.averageOpponentScore,
                    averageScore: mockPlayer.averageScore,
                    currentRating: mockPlayer.currentRating,
                    highScore: mockPlayer.highScore,
                    initialRating: mockPlayer.initialRating,
                    name: mockPlayer.name,
                    photo: mockPlayer.photo,
                    playerId: mockPlayer.playerId,
                    rank: mockPlayer.rank,
                    ratingDiff: mockPlayer.ratingDiff,
                    seed: mockPlayer.seed,
                    spread: mockPlayer.spread,
                    ties: mockPlayer.ties,
                    wins: mockPlayer.wins,
                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                    losses: 5
                };
                return shouldEqual1(Stats_MiscOverlayStats.getPlaceOrSeedLabel(player))("Place");
            })());
        });
    })))(function () {
        return discard1(describe("formatUnderCamRecord")(discard1(it("formats with positive spread")((function () {
            var player = {
                averageOpponentScore: mockPlayer.averageOpponentScore,
                averageScore: mockPlayer.averageScore,
                currentRating: mockPlayer.currentRating,
                highScore: mockPlayer.highScore,
                initialRating: mockPlayer.initialRating,
                name: mockPlayer.name,
                photo: mockPlayer.photo,
                playerId: mockPlayer.playerId,
                rank: mockPlayer.rank,
                ratingDiff: mockPlayer.ratingDiff,
                seed: mockPlayer.seed,
                ties: mockPlayer.ties,
                xtPhotoUrl: mockPlayer.xtPhotoUrl,
                wins: 10,
                losses: 5,
                spread: 250
            };
            return shouldEqual1(Stats_MiscOverlayStats.formatUnderCamRecord(player))("10-5 +250");
        })()))(function () {
            return it("formats with negative spread")((function () {
                var player = {
                    averageOpponentScore: mockPlayer.averageOpponentScore,
                    averageScore: mockPlayer.averageScore,
                    currentRating: mockPlayer.currentRating,
                    highScore: mockPlayer.highScore,
                    initialRating: mockPlayer.initialRating,
                    name: mockPlayer.name,
                    photo: mockPlayer.photo,
                    playerId: mockPlayer.playerId,
                    rank: mockPlayer.rank,
                    ratingDiff: mockPlayer.ratingDiff,
                    seed: mockPlayer.seed,
                    ties: mockPlayer.ties,
                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                    wins: 5,
                    losses: 10,
                    spread: -150 | 0
                };
                return shouldEqual1(Stats_MiscOverlayStats.formatUnderCamRecord(player))("5-10 -150");
            })());
        })))(function () {
            return discard1(describe("formatFullUnderCam")(discard1(it("formats with seed label")((function () {
                var player = {
                    averageOpponentScore: mockPlayer.averageOpponentScore,
                    averageScore: mockPlayer.averageScore,
                    currentRating: mockPlayer.currentRating,
                    highScore: mockPlayer.highScore,
                    initialRating: mockPlayer.initialRating,
                    losses: mockPlayer.losses,
                    name: mockPlayer.name,
                    photo: mockPlayer.photo,
                    playerId: mockPlayer.playerId,
                    ratingDiff: mockPlayer.ratingDiff,
                    spread: mockPlayer.spread,
                    ties: mockPlayer.ties,
                    wins: mockPlayer.wins,
                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                    rank: 3,
                    seed: 5
                };
                return shouldEqual1(Stats_MiscOverlayStats.formatFullUnderCam(player))("0-0 0 | 3rd Seed");
            })()))(function () {
                return it("formats with place label including seed")((function () {
                    var player = {
                        averageOpponentScore: mockPlayer.averageOpponentScore,
                        averageScore: mockPlayer.averageScore,
                        currentRating: mockPlayer.currentRating,
                        highScore: mockPlayer.highScore,
                        initialRating: mockPlayer.initialRating,
                        name: mockPlayer.name,
                        photo: mockPlayer.photo,
                        playerId: mockPlayer.playerId,
                        ratingDiff: mockPlayer.ratingDiff,
                        ties: mockPlayer.ties,
                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                        wins: 10,
                        losses: 5,
                        rank: 2,
                        seed: 7,
                        spread: 150
                    };
                    return shouldEqual1(Stats_MiscOverlayStats.formatFullUnderCam(player))("10-5 +150 | 2nd Place (7th Seed)");
                })());
            })))(function () {
                return discard1(describe("formatUnderCamNoSeed")(it("formats without seed info")((function () {
                    var player = {
                        averageOpponentScore: mockPlayer.averageOpponentScore,
                        averageScore: mockPlayer.averageScore,
                        currentRating: mockPlayer.currentRating,
                        highScore: mockPlayer.highScore,
                        initialRating: mockPlayer.initialRating,
                        name: mockPlayer.name,
                        photo: mockPlayer.photo,
                        playerId: mockPlayer.playerId,
                        ratingDiff: mockPlayer.ratingDiff,
                        seed: mockPlayer.seed,
                        ties: mockPlayer.ties,
                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                        wins: 10,
                        losses: 5,
                        rank: 1,
                        spread: 200
                    };
                    return shouldEqual1(Stats_MiscOverlayStats.formatUnderCamNoSeed(player))("10-5 +200 | 1st Place");
                })())))(function () {
                    return discard1(describe("formatUnderCamWithRating")(it("includes rating")((function () {
                        var player = {
                            averageOpponentScore: mockPlayer.averageOpponentScore,
                            averageScore: mockPlayer.averageScore,
                            highScore: mockPlayer.highScore,
                            initialRating: mockPlayer.initialRating,
                            name: mockPlayer.name,
                            photo: mockPlayer.photo,
                            playerId: mockPlayer.playerId,
                            ratingDiff: mockPlayer.ratingDiff,
                            seed: mockPlayer.seed,
                            ties: mockPlayer.ties,
                            xtPhotoUrl: mockPlayer.xtPhotoUrl,
                            wins: 10,
                            losses: 5,
                            rank: 1,
                            spread: 200,
                            currentRating: 1650
                        };
                        return shouldEqual1(Stats_MiscOverlayStats.formatUnderCamWithRating(player))("10-5 +200 | 1st Place | Rating 1650");
                    })())))(function () {
                        return discard1(describe("formatBestOf7")(it("formats best of 7 record")((function () {
                            var player = {
                                averageOpponentScore: mockPlayer.averageOpponentScore,
                                averageScore: mockPlayer.averageScore,
                                currentRating: mockPlayer.currentRating,
                                highScore: mockPlayer.highScore,
                                initialRating: mockPlayer.initialRating,
                                name: mockPlayer.name,
                                photo: mockPlayer.photo,
                                playerId: mockPlayer.playerId,
                                rank: mockPlayer.rank,
                                ratingDiff: mockPlayer.ratingDiff,
                                seed: mockPlayer.seed,
                                ties: mockPlayer.ties,
                                xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                wins: 4,
                                losses: 3,
                                spread: 50
                            };
                            return shouldEqual1(Stats_MiscOverlayStats.formatBestOf7(player))("Best of 7 Record: 4-3 +50");
                        })())))(function () {
                            return discard1(describe("getRecentGamesForPlayer")(discard1(it("returns most recent games first")((function () {
                                var games = [ mockGame(1)(true), mockGame(2)(true), mockGame(3)(true) ];
                                var recentGames = Stats_MiscOverlayStats.getRecentGamesForPlayer(1)(games)(2);
                                return shouldEqual2(Data_Array.length(recentGames))(2);
                            })()))(function () {
                                return it("filters out games without scores")((function () {
                                    var games = [ mockGame(1)(true), mockGame(2)(false), mockGame(3)(true) ];
                                    var recentGames = Stats_MiscOverlayStats.getRecentGamesForPlayer(1)(games)(5);
                                    return shouldEqual2(Data_Array.length(recentGames))(2);
                                })());
                            })))(function () {
                                return discard1(describe("gameResult")(discard1(it("returns 'W' for win")((function () {
                                    var game = {
                                        id: 1,
                                        isBye: false,
                                        player1Id: 1,
                                        player2Id: 2,
                                        player1Score: new Data_Maybe.Just(450),
                                        player2Score: new Data_Maybe.Just(400),
                                        roundNumber: 1,
                                        pairingId: Data_Maybe.Nothing.value
                                    };
                                    return shouldEqual1(Stats_MiscOverlayStats.gameResult(1)(game))("W");
                                })()))(function () {
                                    return discard1(it("returns 'L' for loss")((function () {
                                        var game = {
                                            id: 2,
                                            isBye: false,
                                            player1Id: 1,
                                            player2Id: 2,
                                            player1Score: new Data_Maybe.Just(350),
                                            player2Score: new Data_Maybe.Just(400),
                                            roundNumber: 1,
                                            pairingId: Data_Maybe.Nothing.value
                                        };
                                        return shouldEqual1(Stats_MiscOverlayStats.gameResult(1)(game))("L");
                                    })()))(function () {
                                        return it("returns 'T' for tie")((function () {
                                            var game = {
                                                id: 3,
                                                isBye: false,
                                                player1Id: 1,
                                                player2Id: 2,
                                                player1Score: new Data_Maybe.Just(400),
                                                player2Score: new Data_Maybe.Just(400),
                                                roundNumber: 1,
                                                pairingId: Data_Maybe.Nothing.value
                                            };
                                            return shouldEqual1(Stats_MiscOverlayStats.gameResult(1)(game))("T");
                                        })());
                                    });
                                })))(function () {
                                    return discard1(describe("formatGameHistorySimple")(discard1(it("formats game history")((function () {
                                        var games = [ mockGameWithScore(1)(450)(400), mockGameWithScore(2)(350)(450) ];
                                        var result = Stats_MiscOverlayStats.formatGameHistorySimple(1)(games);
                                        return shouldEqual1(result)("Last 2: W-L");
                                    })()))(function () {
                                        return it("handles no games")(shouldEqual1(Stats_MiscOverlayStats.formatGameHistorySimple(1)([  ]))("No games"));
                                    })))(function () {
                                        return discard1(describe("getOpponentName")(discard1(it("finds opponent name")((function () {
                                            var game = mockGame(1)(true);
                                            var players = [ {
                                                averageOpponentScore: mockPlayer.averageOpponentScore,
                                                averageScore: mockPlayer.averageScore,
                                                currentRating: mockPlayer.currentRating,
                                                highScore: mockPlayer.highScore,
                                                initialRating: mockPlayer.initialRating,
                                                losses: mockPlayer.losses,
                                                photo: mockPlayer.photo,
                                                rank: mockPlayer.rank,
                                                ratingDiff: mockPlayer.ratingDiff,
                                                seed: mockPlayer.seed,
                                                spread: mockPlayer.spread,
                                                ties: mockPlayer.ties,
                                                wins: mockPlayer.wins,
                                                xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                playerId: 1,
                                                name: "Player 1"
                                            }, {
                                                averageOpponentScore: mockPlayer.averageOpponentScore,
                                                averageScore: mockPlayer.averageScore,
                                                currentRating: mockPlayer.currentRating,
                                                highScore: mockPlayer.highScore,
                                                initialRating: mockPlayer.initialRating,
                                                losses: mockPlayer.losses,
                                                photo: mockPlayer.photo,
                                                rank: mockPlayer.rank,
                                                ratingDiff: mockPlayer.ratingDiff,
                                                seed: mockPlayer.seed,
                                                spread: mockPlayer.spread,
                                                ties: mockPlayer.ties,
                                                wins: mockPlayer.wins,
                                                xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                playerId: 2,
                                                name: "Player 2"
                                            } ];
                                            return shouldEqual1(Stats_MiscOverlayStats.getOpponentName(1)(game)(players))("Player 2");
                                        })()))(function () {
                                            return it("returns 'Unknown' when opponent not found")((function () {
                                                var game = mockGame(1)(true);
                                                var players = [ mockPlayer ];
                                                return shouldEqual1(Stats_MiscOverlayStats.getOpponentName(1)(game)(players))("Unknown");
                                            })());
                                        })))(function () {
                                            return discard1(describe("calculateAverageScoreRank")(it("ranks by average score descending")((function () {
                                                var players = [ {
                                                    averageOpponentScore: mockPlayer.averageOpponentScore,
                                                    currentRating: mockPlayer.currentRating,
                                                    highScore: mockPlayer.highScore,
                                                    initialRating: mockPlayer.initialRating,
                                                    losses: mockPlayer.losses,
                                                    name: mockPlayer.name,
                                                    photo: mockPlayer.photo,
                                                    rank: mockPlayer.rank,
                                                    ratingDiff: mockPlayer.ratingDiff,
                                                    seed: mockPlayer.seed,
                                                    spread: mockPlayer.spread,
                                                    ties: mockPlayer.ties,
                                                    wins: mockPlayer.wins,
                                                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                    playerId: 1,
                                                    averageScore: 400.0
                                                }, {
                                                    averageOpponentScore: mockPlayer.averageOpponentScore,
                                                    currentRating: mockPlayer.currentRating,
                                                    highScore: mockPlayer.highScore,
                                                    initialRating: mockPlayer.initialRating,
                                                    losses: mockPlayer.losses,
                                                    name: mockPlayer.name,
                                                    photo: mockPlayer.photo,
                                                    rank: mockPlayer.rank,
                                                    ratingDiff: mockPlayer.ratingDiff,
                                                    seed: mockPlayer.seed,
                                                    spread: mockPlayer.spread,
                                                    ties: mockPlayer.ties,
                                                    wins: mockPlayer.wins,
                                                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                    playerId: 2,
                                                    averageScore: 450.0
                                                }, {
                                                    averageOpponentScore: mockPlayer.averageOpponentScore,
                                                    currentRating: mockPlayer.currentRating,
                                                    highScore: mockPlayer.highScore,
                                                    initialRating: mockPlayer.initialRating,
                                                    losses: mockPlayer.losses,
                                                    name: mockPlayer.name,
                                                    photo: mockPlayer.photo,
                                                    rank: mockPlayer.rank,
                                                    ratingDiff: mockPlayer.ratingDiff,
                                                    seed: mockPlayer.seed,
                                                    spread: mockPlayer.spread,
                                                    ties: mockPlayer.ties,
                                                    wins: mockPlayer.wins,
                                                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                    playerId: 3,
                                                    averageScore: 425.0
                                                } ];
                                                return discard2(shouldEqual2(Stats_MiscOverlayStats.calculateAverageScoreRank(players)({
                                                    name: mockPlayer.name,
                                                    initialRating: mockPlayer.initialRating,
                                                    currentRating: mockPlayer.currentRating,
                                                    ratingDiff: mockPlayer.ratingDiff,
                                                    seed: mockPlayer.seed,
                                                    wins: mockPlayer.wins,
                                                    losses: mockPlayer.losses,
                                                    ties: mockPlayer.ties,
                                                    spread: mockPlayer.spread,
                                                    averageOpponentScore: mockPlayer.averageOpponentScore,
                                                    highScore: mockPlayer.highScore,
                                                    photo: mockPlayer.photo,
                                                    xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                    rank: mockPlayer.rank,
                                                    playerId: 1,
                                                    averageScore: 400.0
                                                }))(3))(function () {
                                                    return discard2(shouldEqual2(Stats_MiscOverlayStats.calculateAverageScoreRank(players)({
                                                        name: mockPlayer.name,
                                                        initialRating: mockPlayer.initialRating,
                                                        currentRating: mockPlayer.currentRating,
                                                        ratingDiff: mockPlayer.ratingDiff,
                                                        seed: mockPlayer.seed,
                                                        wins: mockPlayer.wins,
                                                        losses: mockPlayer.losses,
                                                        ties: mockPlayer.ties,
                                                        spread: mockPlayer.spread,
                                                        averageOpponentScore: mockPlayer.averageOpponentScore,
                                                        highScore: mockPlayer.highScore,
                                                        photo: mockPlayer.photo,
                                                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                        rank: mockPlayer.rank,
                                                        playerId: 2,
                                                        averageScore: 450.0
                                                    }))(1))(function () {
                                                        return shouldEqual2(Stats_MiscOverlayStats.calculateAverageScoreRank(players)({
                                                            name: mockPlayer.name,
                                                            initialRating: mockPlayer.initialRating,
                                                            currentRating: mockPlayer.currentRating,
                                                            ratingDiff: mockPlayer.ratingDiff,
                                                            seed: mockPlayer.seed,
                                                            wins: mockPlayer.wins,
                                                            losses: mockPlayer.losses,
                                                            ties: mockPlayer.ties,
                                                            spread: mockPlayer.spread,
                                                            averageOpponentScore: mockPlayer.averageOpponentScore,
                                                            highScore: mockPlayer.highScore,
                                                            photo: mockPlayer.photo,
                                                            xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                            rank: mockPlayer.rank,
                                                            playerId: 3,
                                                            averageScore: 425.0
                                                        }))(2);
                                                    });
                                                });
                                            })())))(function () {
                                                return describe("calculateAverageOpponentScoreRank")(it("ranks by average opponent score ascending (lower is better)")((function () {
                                                    var players = [ {
                                                        averageScore: mockPlayer.averageScore,
                                                        currentRating: mockPlayer.currentRating,
                                                        highScore: mockPlayer.highScore,
                                                        initialRating: mockPlayer.initialRating,
                                                        losses: mockPlayer.losses,
                                                        name: mockPlayer.name,
                                                        photo: mockPlayer.photo,
                                                        rank: mockPlayer.rank,
                                                        ratingDiff: mockPlayer.ratingDiff,
                                                        seed: mockPlayer.seed,
                                                        spread: mockPlayer.spread,
                                                        ties: mockPlayer.ties,
                                                        wins: mockPlayer.wins,
                                                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                        playerId: 1,
                                                        averageOpponentScore: 400.0
                                                    }, {
                                                        averageScore: mockPlayer.averageScore,
                                                        currentRating: mockPlayer.currentRating,
                                                        highScore: mockPlayer.highScore,
                                                        initialRating: mockPlayer.initialRating,
                                                        losses: mockPlayer.losses,
                                                        name: mockPlayer.name,
                                                        photo: mockPlayer.photo,
                                                        rank: mockPlayer.rank,
                                                        ratingDiff: mockPlayer.ratingDiff,
                                                        seed: mockPlayer.seed,
                                                        spread: mockPlayer.spread,
                                                        ties: mockPlayer.ties,
                                                        wins: mockPlayer.wins,
                                                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                        playerId: 2,
                                                        averageOpponentScore: 450.0
                                                    }, {
                                                        averageScore: mockPlayer.averageScore,
                                                        currentRating: mockPlayer.currentRating,
                                                        highScore: mockPlayer.highScore,
                                                        initialRating: mockPlayer.initialRating,
                                                        losses: mockPlayer.losses,
                                                        name: mockPlayer.name,
                                                        photo: mockPlayer.photo,
                                                        rank: mockPlayer.rank,
                                                        ratingDiff: mockPlayer.ratingDiff,
                                                        seed: mockPlayer.seed,
                                                        spread: mockPlayer.spread,
                                                        ties: mockPlayer.ties,
                                                        wins: mockPlayer.wins,
                                                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                        playerId: 3,
                                                        averageOpponentScore: 425.0
                                                    } ];
                                                    return discard2(shouldEqual2(Stats_MiscOverlayStats.calculateAverageOpponentScoreRank(players)({
                                                        name: mockPlayer.name,
                                                        initialRating: mockPlayer.initialRating,
                                                        currentRating: mockPlayer.currentRating,
                                                        ratingDiff: mockPlayer.ratingDiff,
                                                        seed: mockPlayer.seed,
                                                        wins: mockPlayer.wins,
                                                        losses: mockPlayer.losses,
                                                        ties: mockPlayer.ties,
                                                        spread: mockPlayer.spread,
                                                        averageScore: mockPlayer.averageScore,
                                                        highScore: mockPlayer.highScore,
                                                        photo: mockPlayer.photo,
                                                        xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                        rank: mockPlayer.rank,
                                                        playerId: 1,
                                                        averageOpponentScore: 400.0
                                                    }))(1))(function () {
                                                        return discard2(shouldEqual2(Stats_MiscOverlayStats.calculateAverageOpponentScoreRank(players)({
                                                            name: mockPlayer.name,
                                                            initialRating: mockPlayer.initialRating,
                                                            currentRating: mockPlayer.currentRating,
                                                            ratingDiff: mockPlayer.ratingDiff,
                                                            seed: mockPlayer.seed,
                                                            wins: mockPlayer.wins,
                                                            losses: mockPlayer.losses,
                                                            ties: mockPlayer.ties,
                                                            spread: mockPlayer.spread,
                                                            averageScore: mockPlayer.averageScore,
                                                            highScore: mockPlayer.highScore,
                                                            photo: mockPlayer.photo,
                                                            xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                            rank: mockPlayer.rank,
                                                            playerId: 2,
                                                            averageOpponentScore: 450.0
                                                        }))(3))(function () {
                                                            return shouldEqual2(Stats_MiscOverlayStats.calculateAverageOpponentScoreRank(players)({
                                                                name: mockPlayer.name,
                                                                initialRating: mockPlayer.initialRating,
                                                                currentRating: mockPlayer.currentRating,
                                                                ratingDiff: mockPlayer.ratingDiff,
                                                                seed: mockPlayer.seed,
                                                                wins: mockPlayer.wins,
                                                                losses: mockPlayer.losses,
                                                                ties: mockPlayer.ties,
                                                                spread: mockPlayer.spread,
                                                                averageScore: mockPlayer.averageScore,
                                                                highScore: mockPlayer.highScore,
                                                                photo: mockPlayer.photo,
                                                                xtPhotoUrl: mockPlayer.xtPhotoUrl,
                                                                rank: mockPlayer.rank,
                                                                playerId: 3,
                                                                averageOpponentScore: 425.0
                                                            }))(2);
                                                        });
                                                    });
                                                })()));
                                            });
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });
    });
}));
export {
    spec,
    mkPlayer,
    mockPlayer,
    mockPlayerWith,
    mockGame,
    mockGameWithScore
};
