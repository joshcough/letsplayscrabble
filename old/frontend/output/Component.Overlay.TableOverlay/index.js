// Generated by purs version 0.15.15
import * as Component_Overlay_BaseOverlay from "../Component.Overlay.BaseOverlay/index.js";
import * as Data_Number_Format from "../Data.Number.Format/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Renderer_TableRenderer from "../Renderer.TableRenderer/index.js";
import * as Stats_TableHelpers from "../Stats.TableHelpers/index.js";
import * as Stats_TournamentStats from "../Stats.TournamentStats/index.js";
import * as Utils_Color from "../Utils.Color/index.js";
import * as Utils_Format from "../Utils.Format/index.js";
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var renderWithData = function (calculator) {
    return function (state) {
        return Component_Overlay_BaseOverlay.renderWithData(state)(function (tournamentData) {
            var tableData = calculator(tournamentData);
            return Renderer_TableRenderer.renderTableOverlay(state.theme)(tableData);
        });
    };
};
var component = function (dictMonadAff) {
    var mkComponent = Component_Overlay_BaseOverlay.mkComponent(dictMonadAff);
    return function (dictMonadBroadcast) {
        var mkComponent1 = mkComponent(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            var mkComponent2 = mkComponent1(dictMonadEmitters);
            return function (calculator) {
                return mkComponent2(renderWithData(calculator));
            };
        };
    };
};
var calculateStandingsTableData = /* #__PURE__ */ (function () {
    return Stats_TableHelpers.buildTableData("Standings")([ {
        header: "Rank",
        align: Renderer_TableRenderer.Center.value,
        renderer: Renderer_TableRenderer.RankCell.value
    }, {
        header: "Name",
        align: Renderer_TableRenderer.Left.value,
        renderer: Renderer_TableRenderer.NameCell.value
    }, {
        header: "Record",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.TextCell(Renderer_TableRenderer.Center.value)
    }, {
        header: "Spread",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.ColoredTextCell(Renderer_TableRenderer.Center.value, Utils_Color.getSpreadColor)
    } ])(function (player) {
        return [ show(player.rank), player.name, show(player.wins) + ("-" + (show(player.losses) + (function () {
            var $33 = player.ties > 0;
            if ($33) {
                return "-" + show(player.ties);
            };
            return "";
        })())), Utils_Format.formatNumberWithSign(player.spread) ];
    })(Stats_TournamentStats.calculateStandingsPlayers);
})();
var standingsComponent = function (dictMonadAff) {
    var component1 = component(dictMonadAff);
    return function (dictMonadBroadcast) {
        var component2 = component1(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            return component2(dictMonadEmitters)(calculateStandingsTableData);
        };
    };
};
var calculateScoringLeadersTableData = /* #__PURE__ */ (function () {
    return Stats_TableHelpers.buildTableData("Scoring Leaders")([ {
        header: "Rank",
        align: Renderer_TableRenderer.Center.value,
        renderer: Renderer_TableRenderer.RankCell.value
    }, {
        header: "Name",
        align: Renderer_TableRenderer.Left.value,
        renderer: Renderer_TableRenderer.NameCell.value
    }, {
        header: "Avg Pts For",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.TextCell(Renderer_TableRenderer.Center.value)
    }, {
        header: "Avg Pts Against",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.TextCell(Renderer_TableRenderer.Center.value)
    } ])(function (player) {
        return [ show(player.rank), player.name, Data_Number_Format.toStringWith(Data_Number_Format.fixed(1))(player.averageScore), Data_Number_Format.toStringWith(Data_Number_Format.fixed(1))(player.averageOpponentScore) ];
    })(Stats_TournamentStats.calculateScoringLeadersPlayers);
})();
var scoringLeadersComponent = function (dictMonadAff) {
    var component1 = component(dictMonadAff);
    return function (dictMonadBroadcast) {
        var component2 = component1(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            return component2(dictMonadEmitters)(calculateScoringLeadersTableData);
        };
    };
};
var calculateRatingGainTableData = /* #__PURE__ */ (function () {
    return Stats_TableHelpers.buildTableData("Rating Gain")([ {
        header: "Rank",
        align: Renderer_TableRenderer.Center.value,
        renderer: Renderer_TableRenderer.RankCell.value
    }, {
        header: "Name",
        align: Renderer_TableRenderer.Left.value,
        renderer: Renderer_TableRenderer.NameCell.value
    }, {
        header: "Rating +/-",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.ColoredTextCell(Renderer_TableRenderer.Center.value, Utils_Color.getRatingChangeColor)
    }, {
        header: "New Rating",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.TextCell(Renderer_TableRenderer.Center.value)
    }, {
        header: "Old Rating",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.TextCell(Renderer_TableRenderer.Center.value)
    } ])(function (player) {
        return [ show(player.rank), player.name, Utils_Format.formatNumberWithSign(player.ratingDiff), show(player.currentRating), show(player.initialRating) ];
    })(Stats_TournamentStats.calculateRatingGainPlayers);
})();
var ratingGainComponent = function (dictMonadAff) {
    var component1 = component(dictMonadAff);
    return function (dictMonadBroadcast) {
        var component2 = component1(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            return component2(dictMonadEmitters)(calculateRatingGainTableData);
        };
    };
};
var calculateHighScoresTableData = /* #__PURE__ */ (function () {
    return Stats_TableHelpers.buildTableData("High Scores")([ {
        header: "Rank",
        align: Renderer_TableRenderer.Center.value,
        renderer: Renderer_TableRenderer.RankCell.value
    }, {
        header: "Name",
        align: Renderer_TableRenderer.Left.value,
        renderer: Renderer_TableRenderer.NameCell.value
    }, {
        header: "High Score",
        align: Renderer_TableRenderer.Center.value,
        renderer: new Renderer_TableRenderer.TextCell(Renderer_TableRenderer.Center.value)
    } ])(function (player) {
        return [ show(player.rank), player.name, show(player.highScore) ];
    })(Stats_TournamentStats.calculateHighScorePlayers);
})();
var highScoresComponent = function (dictMonadAff) {
    var component1 = component(dictMonadAff);
    return function (dictMonadBroadcast) {
        var component2 = component1(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            return component2(dictMonadEmitters)(calculateHighScoresTableData);
        };
    };
};
export {
    highScoresComponent,
    ratingGainComponent,
    scoringLeadersComponent,
    standingsComponent,
    calculateHighScoresTableData,
    calculateRatingGainTableData,
    calculateScoringLeadersTableData,
    calculateStandingsTableData
};
