// Generated by purs version 0.15.15
import * as BroadcastChannel_Manager from "../BroadcastChannel.Manager/index.js";
import * as CSS_Class from "../CSS.Class/index.js";
import * as Component_AddTournament from "../Component.AddTournament/index.js";
import * as Component_CurrentMatchPage from "../Component.CurrentMatchPage/index.js";
import * as Component_HomePage from "../Component.HomePage/index.js";
import * as Component_LoginPage from "../Component.LoginPage/index.js";
import * as Component_MiscOverlayTestingPage from "../Component.MiscOverlayTestingPage/index.js";
import * as Component_Navigation from "../Component.Navigation/index.js";
import * as Component_Overlay_CrossTablesPlayerProfile from "../Component.Overlay.CrossTablesPlayerProfile/index.js";
import * as Component_Overlay_HeadToHead from "../Component.Overlay.HeadToHead/index.js";
import * as Component_Overlay_MiscOverlay from "../Component.Overlay.MiscOverlay/index.js";
import * as Component_Overlay_PictureOverlay from "../Component.Overlay.PictureOverlay/index.js";
import * as Component_Overlay_TableOverlay from "../Component.Overlay.TableOverlay/index.js";
import * as Component_Overlay_TournamentStats from "../Component.Overlay.TournamentStats/index.js";
import * as Component_OverlaysPage from "../Component.OverlaysPage/index.js";
import * as Component_RouterHelpers from "../Component.RouterHelpers/index.js";
import * as Component_TournamentDetailsPage from "../Component.TournamentDetailsPage/index.js";
import * as Component_TournamentManagerPage from "../Component.TournamentManagerPage/index.js";
import * as Component_WorkerPage from "../Component.WorkerPage/index.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Control_Monad_State_Class from "../Control.Monad.State.Class/index.js";
import * as Data_Either from "../Data.Either/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Effect_Class from "../Effect.Class/index.js";
import * as Effect_Unsafe from "../Effect.Unsafe/index.js";
import * as Halogen_Component from "../Halogen.Component/index.js";
import * as Halogen_HTML from "../Halogen.HTML/index.js";
import * as Halogen_HTML_Core from "../Halogen.HTML.Core/index.js";
import * as Halogen_HTML_Elements from "../Halogen.HTML.Elements/index.js";
import * as Halogen_Query_HalogenM from "../Halogen.Query.HalogenM/index.js";
import * as Route from "../Route/index.js";
import * as Routing_Duplex from "../Routing.Duplex/index.js";
import * as Routing_Duplex_Parser from "../Routing.Duplex.Parser/index.js";
import * as Routing_Hash from "../Routing.Hash/index.js";
import * as Type_Proxy from "../Type.Proxy/index.js";
import * as Utils_Auth from "../Utils.Auth/index.js";
import * as Utils_CSS from "../Utils.CSS/index.js";
import * as Utils_Logger from "../Utils.Logger/index.js";
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit)(Halogen_Query_HalogenM.bindHalogenM);
var show = /* #__PURE__ */ Data_Show.show(Route.showRoute);
var bind = /* #__PURE__ */ Control_Bind.bind(Halogen_Query_HalogenM.bindHalogenM);
var get = /* #__PURE__ */ Control_Monad_State_Class.get(Halogen_Query_HalogenM.monadStateHalogenM);
var modify_ = /* #__PURE__ */ Control_Monad_State_Class.modify_(Halogen_Query_HalogenM.monadStateHalogenM);
var pure = /* #__PURE__ */ Control_Applicative.pure(Halogen_Query_HalogenM.applicativeHalogenM);
var show1 = /* #__PURE__ */ Data_Show.show(Data_Show.showBoolean);
var show2 = /* #__PURE__ */ Data_Show.show(/* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showString));
var show3 = /* #__PURE__ */ Data_Show.show(/* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showInt));
var show4 = /* #__PURE__ */ Data_Show.show(Routing_Duplex_Parser.showRouteError);
var show5 = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var slot = /* #__PURE__ */ Halogen_HTML.slot();
var slot1 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "navigation";
    }
})(Data_Ord.ordUnit);
var show6 = /* #__PURE__ */ Data_Show.show(/* #__PURE__ */ Data_Maybe.showMaybe(Route.showRoute));
var slot2 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "home";
    }
})(Data_Ord.ordUnit);
var slot3 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "login";
    }
})(Data_Ord.ordUnit);
var slot4 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "overlays";
    }
})(Data_Ord.ordUnit);
var slot5 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "tournamentManager";
    }
})(Data_Ord.ordUnit);
var slot_ = /* #__PURE__ */ Halogen_HTML.slot_();
var slot_1 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "addTournament";
    }
})(Data_Ord.ordUnit);
var slot6 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "tournamentDetails";
    }
})(Data_Ord.ordUnit);
var slot7 = /* #__PURE__ */ slot({
    reflectSymbol: function () {
        return "currentMatch";
    }
})(Data_Ord.ordUnit);
var slot_2 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "standingsWithPics";
    }
})(Data_Ord.ordUnit);
var slot_3 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "standings";
    }
})(Data_Ord.ordUnit);
var slot_4 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "highScoresWithPics";
    }
})(Data_Ord.ordUnit);
var slot_5 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "highScores";
    }
})(Data_Ord.ordUnit);
var slot_6 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "ratingGainWithPics";
    }
})(Data_Ord.ordUnit);
var slot_7 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "ratingGain";
    }
})(Data_Ord.ordUnit);
var slot_8 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "scoringLeadersWithPics";
    }
})(Data_Ord.ordUnit);
var slot_9 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "scoringLeaders";
    }
})(Data_Ord.ordUnit);
var slot_10 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "crossTablesPlayerProfile";
    }
})(Data_Ord.ordUnit);
var slot_11 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "headToHead";
    }
})(Data_Ord.ordUnit);
var slot_12 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "miscOverlay";
    }
})(Data_Ord.ordUnit);
var slot_13 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "tournamentStats";
    }
})(Data_Ord.ordUnit);
var slot_14 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "miscOverlayTesting";
    }
})(Data_Ord.ordUnit);
var slot_15 = /* #__PURE__ */ slot_({
    reflectSymbol: function () {
        return "worker";
    }
})(Data_Ord.ordUnit);
var Navigate = /* #__PURE__ */ (function () {
    function Navigate(value0, value1) {
        this.value0 = value0;
        this.value1 = value1;
    };
    Navigate.create = function (value0) {
        return function (value1) {
            return new Navigate(value0, value1);
        };
    };
    return Navigate;
})();
var Initialize = /* #__PURE__ */ (function () {
    function Initialize() {

    };
    Initialize.value = new Initialize();
    return Initialize;
})();
var NavigateAction = /* #__PURE__ */ (function () {
    function NavigateAction(value0) {
        this.value0 = value0;
    };
    NavigateAction.create = function (value0) {
        return new NavigateAction(value0);
    };
    return NavigateAction;
})();
var HandleHomeOutput = /* #__PURE__ */ (function () {
    function HandleHomeOutput(value0) {
        this.value0 = value0;
    };
    HandleHomeOutput.create = function (value0) {
        return new HandleHomeOutput(value0);
    };
    return HandleHomeOutput;
})();
var HandleOverlaysOutput = /* #__PURE__ */ (function () {
    function HandleOverlaysOutput(value0) {
        this.value0 = value0;
    };
    HandleOverlaysOutput.create = function (value0) {
        return new HandleOverlaysOutput(value0);
    };
    return HandleOverlaysOutput;
})();
var HandleLoginSuccess = /* #__PURE__ */ (function () {
    function HandleLoginSuccess(value0) {
        this.value0 = value0;
    };
    HandleLoginSuccess.create = function (value0) {
        return new HandleLoginSuccess(value0);
    };
    return HandleLoginSuccess;
})();
var HandleNavigationOutput = /* #__PURE__ */ (function () {
    function HandleNavigationOutput(value0) {
        this.value0 = value0;
    };
    HandleNavigationOutput.create = function (value0) {
        return new HandleNavigationOutput(value0);
    };
    return HandleNavigationOutput;
})();
var HandleTournamentDetailsOutput = /* #__PURE__ */ (function () {
    function HandleTournamentDetailsOutput(value0) {
        this.value0 = value0;
    };
    HandleTournamentDetailsOutput.create = function (value0) {
        return new HandleTournamentDetailsOutput(value0);
    };
    return HandleTournamentDetailsOutput;
})();
var HandleTournamentManagerOutput = /* #__PURE__ */ (function () {
    function HandleTournamentManagerOutput(value0) {
        this.value0 = value0;
    };
    HandleTournamentManagerOutput.create = function (value0) {
        return new HandleTournamentManagerOutput(value0);
    };
    return HandleTournamentManagerOutput;
})();
var HandleCurrentMatchOutput = /* #__PURE__ */ (function () {
    function HandleCurrentMatchOutput(value0) {
        this.value0 = value0;
    };
    HandleCurrentMatchOutput.create = function (value0) {
        return new HandleCurrentMatchOutput(value0);
    };
    return HandleCurrentMatchOutput;
})();
var requiresAuth = function (v) {
    if (v instanceof Route.Home) {
        return false;
    };
    if (v instanceof Route.Login) {
        return false;
    };
    if (v instanceof Route.Worker) {
        return false;
    };
    if (v instanceof Route.CrossTablesPlayerProfile) {
        return false;
    };
    if (v instanceof Route.HeadToHead) {
        return false;
    };
    if (v instanceof Route.MiscOverlay) {
        return false;
    };
    if (v instanceof Route.TournamentStats) {
        return false;
    };
    if (v instanceof Route.MiscOverlayTesting) {
        return false;
    };
    return true;
};
var routeWithAuth = function (isAuth) {
    return function (route) {
        var $210 = requiresAuth(route) && !isAuth;
        if ($210) {
            return Route.Login.value;
        };
        return route;
    };
};
var handleQuery = function (dictMonadAff) {
    var liftEffect = Effect_Class.liftEffect(Halogen_Query_HalogenM.monadEffectHalogenM(dictMonadAff.MonadEffect0()));
    return function (dictMonadEffect) {
        return function (v) {
            return discard(liftEffect(Utils_Logger.log("[Router] Query Navigate to: " + show(v.value0))))(function () {
                return bind(get)(function (state) {
                    return discard(modify_(function (v1) {
                        var $212 = {};
                        for (var $213 in v1) {
                            if ({}.hasOwnProperty.call(v1, $213)) {
                                $212[$213] = v1[$213];
                            };
                        };
                        $212.route = new Data_Maybe.Just(routeWithAuth(state.isAuthenticated)(v.value0));
                        return $212;
                    }))(function () {
                        return pure(new Data_Maybe.Just(v.value1));
                    });
                });
            });
        };
    };
};
var handleAction = function (dictMonadAff) {
    var liftEffect = Effect_Class.liftEffect(Halogen_Query_HalogenM.monadEffectHalogenM(dictMonadAff.MonadEffect0()));
    return function (dictMonadEffect) {
        return function (v) {
            if (v instanceof Initialize) {
                return discard(liftEffect(Utils_Logger.log("[Router] Initializing...")))(function () {
                    return bind(liftEffect(BroadcastChannel_Manager.create))(function (v1) {
                        return discard(liftEffect(Utils_Logger.log("[Router] Created broadcast and emitter managers")))(function () {
                            return bind(liftEffect(Utils_Auth.isAuthenticated))(function (isAuth) {
                                return discard(liftEffect(Utils_Logger.log("[Router] Is authenticated: " + show1(isAuth))))(function () {
                                    return bind(liftEffect(Utils_Auth.getUsername))(function (username) {
                                        return bind(liftEffect(Utils_Auth.getUserId))(function (userId) {
                                            return discard(liftEffect(Utils_Logger.log("[Router] Username: " + (show2(username) + (", UserId: " + show3(userId))))))(function () {
                                                return discard(modify_(function (v2) {
                                                    var $219 = {};
                                                    for (var $220 in v2) {
                                                        if ({}.hasOwnProperty.call(v2, $220)) {
                                                            $219[$220] = v2[$220];
                                                        };
                                                    };
                                                    $219.isAuthenticated = isAuth;
                                                    $219.username = username;
                                                    $219.userId = userId;
                                                    $219.broadcastManager = new Data_Maybe.Just(v1.broadcastManager);
                                                    $219.emitterManager = new Data_Maybe.Just(v1.emitterManager);
                                                    return $219;
                                                }))(function () {
                                                    return bind(liftEffect(Routing_Hash.getHash))(function (initialHash) {
                                                        return discard(liftEffect(Utils_Logger.log("[Router] Initial hash: '" + (initialHash + "'"))))(function () {
                                                            var v2 = Routing_Duplex.parse(Route.routeCodec)(initialHash);
                                                            if (v2 instanceof Data_Either.Left) {
                                                                return discard(liftEffect(Utils_Logger.log("[Router] Failed to parse initial route: " + show4(v2.value0))))(function () {
                                                                    return modify_(function (v3) {
                                                                        var $223 = {};
                                                                        for (var $224 in v3) {
                                                                            if ({}.hasOwnProperty.call(v3, $224)) {
                                                                                $223[$224] = v3[$224];
                                                                            };
                                                                        };
                                                                        $223.route = new Data_Maybe.Just(Route.Home.value);
                                                                        return $223;
                                                                    });
                                                                });
                                                            };
                                                            if (v2 instanceof Data_Either.Right) {
                                                                return discard(liftEffect(Utils_Logger.log("[Router] Parsed initial route: " + show(v2.value0))))(function () {
                                                                    return modify_(function (v3) {
                                                                        var $227 = {};
                                                                        for (var $228 in v3) {
                                                                            if ({}.hasOwnProperty.call(v3, $228)) {
                                                                                $227[$228] = v3[$228];
                                                                            };
                                                                        };
                                                                        $227.route = new Data_Maybe.Just(routeWithAuth(isAuth)(v2.value0));
                                                                        return $227;
                                                                    });
                                                                });
                                                            };
                                                            throw new Error("Failed pattern match at Component.Router (line 369, column 5 - line 377, column 66): " + [ v2.constructor.name ]);
                                                        });
                                                    });
                                                });
                                            });
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            };
            if (v instanceof NavigateAction) {
                return discard(liftEffect(Utils_Logger.log("[Router] Navigating to: " + show(v.value0))))(function () {
                    return modify_(function (v1) {
                        var $233 = {};
                        for (var $234 in v1) {
                            if ({}.hasOwnProperty.call(v1, $234)) {
                                $233[$234] = v1[$234];
                            };
                        };
                        $233.route = new Data_Maybe.Just(v.value0);
                        return $233;
                    });
                });
            };
            if (v instanceof HandleOverlaysOutput) {
                return discard(liftEffect(Utils_Logger.log("[Router] OverlaysPage output: " + show(v.value0))))(function () {
                    return modify_(function (v1) {
                        var $237 = {};
                        for (var $238 in v1) {
                            if ({}.hasOwnProperty.call(v1, $238)) {
                                $237[$238] = v1[$238];
                            };
                        };
                        $237.route = new Data_Maybe.Just(v.value0);
                        return $237;
                    });
                });
            };
            if (v instanceof HandleLoginSuccess) {
                return discard(liftEffect(Utils_Logger.log("[Router] Login successful: " + v.value0.username)))(function () {
                    return discard(liftEffect(Utils_Auth.saveAuth(v.value0)))(function () {
                        return modify_(function (v1) {
                            var $241 = {};
                            for (var $242 in v1) {
                                if ({}.hasOwnProperty.call(v1, $242)) {
                                    $241[$242] = v1[$242];
                                };
                            };
                            $241.isAuthenticated = true;
                            $241.username = new Data_Maybe.Just(v.value0.username);
                            $241.userId = new Data_Maybe.Just(v.value0.userId);
                            $241.route = new Data_Maybe.Just(Route.Overlays.value);
                            return $241;
                        });
                    });
                });
            };
            if (v instanceof HandleNavigationOutput) {
                if (v.value0 instanceof Component_Navigation.Logout) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Logging out...")))(function () {
                        return discard(liftEffect(Utils_Auth.clearAuth))(function () {
                            return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.Login.value))))(function () {
                                return modify_(function (v1) {
                                    var $246 = {};
                                    for (var $247 in v1) {
                                        if ({}.hasOwnProperty.call(v1, $247)) {
                                            $246[$247] = v1[$247];
                                        };
                                    };
                                    $246.isAuthenticated = false;
                                    $246.username = Data_Maybe.Nothing.value;
                                    $246.userId = Data_Maybe.Nothing.value;
                                    $246.route = new Data_Maybe.Just(Route.Login.value);
                                    return $246;
                                });
                            });
                        });
                    });
                };
                if (v.value0 instanceof Component_Navigation.NavigateToHome) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Navigating to Home...")))(function () {
                        return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.Home.value))))(function () {
                            return modify_(function (v1) {
                                var $249 = {};
                                for (var $250 in v1) {
                                    if ({}.hasOwnProperty.call(v1, $250)) {
                                        $249[$250] = v1[$250];
                                    };
                                };
                                $249.route = new Data_Maybe.Just(Route.Home.value);
                                return $249;
                            });
                        });
                    });
                };
                if (v.value0 instanceof Component_Navigation.NavigateToOverlays) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Navigating to Overlays...")))(function () {
                        return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.Overlays.value))))(function () {
                            return modify_(function (v1) {
                                var $252 = {};
                                for (var $253 in v1) {
                                    if ({}.hasOwnProperty.call(v1, $253)) {
                                        $252[$253] = v1[$253];
                                    };
                                };
                                $252.route = new Data_Maybe.Just(Route.Overlays.value);
                                return $252;
                            });
                        });
                    });
                };
                if (v.value0 instanceof Component_Navigation.NavigateToTournamentManager) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Navigating to Tournament Manager...")))(function () {
                        return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.TournamentManager.value))))(function () {
                            return modify_(function (v1) {
                                var $255 = {};
                                for (var $256 in v1) {
                                    if ({}.hasOwnProperty.call(v1, $256)) {
                                        $255[$256] = v1[$256];
                                    };
                                };
                                $255.route = new Data_Maybe.Just(Route.TournamentManager.value);
                                return $255;
                            });
                        });
                    });
                };
                if (v.value0 instanceof Component_Navigation.NavigateToCurrentMatch) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Navigating to Current Match...")))(function () {
                        return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.CurrentMatch.value))))(function () {
                            return modify_(function (v1) {
                                var $258 = {};
                                for (var $259 in v1) {
                                    if ({}.hasOwnProperty.call(v1, $259)) {
                                        $258[$259] = v1[$259];
                                    };
                                };
                                $258.route = new Data_Maybe.Just(Route.CurrentMatch.value);
                                return $258;
                            });
                        });
                    });
                };
                throw new Error("Failed pattern match at Component.Router (line 400, column 5 - line 428, column 50): " + [ v.value0.constructor.name ]);
            };
            if (v instanceof HandleTournamentDetailsOutput) {
                return discard(liftEffect(Utils_Logger.log("[Router] Navigating back to Tournament Manager...")))(function () {
                    return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.TournamentManager.value))))(function () {
                        return modify_(function (v1) {
                            var $263 = {};
                            for (var $264 in v1) {
                                if ({}.hasOwnProperty.call(v1, $264)) {
                                    $263[$264] = v1[$264];
                                };
                            };
                            $263.route = new Data_Maybe.Just(Route.TournamentManager.value);
                            return $263;
                        });
                    });
                });
            };
            if (v instanceof HandleTournamentManagerOutput) {
                if (v.value0 instanceof Component_TournamentManagerPage.NavigateToTournament) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Navigating to tournament: " + show5(v.value0.value0))))(function () {
                        return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(new Route.TournamentDetail(v.value0.value0)))))(function () {
                            return modify_(function (v1) {
                                var $268 = {};
                                for (var $269 in v1) {
                                    if ({}.hasOwnProperty.call(v1, $269)) {
                                        $268[$269] = v1[$269];
                                    };
                                };
                                $268.route = new Data_Maybe.Just(new Route.TournamentDetail(v.value0.value0));
                                return $268;
                            });
                        });
                    });
                };
                if (v.value0 instanceof Component_TournamentManagerPage.NavigateToAddTournament) {
                    return discard(liftEffect(Utils_Logger.log("[Router] Navigating to Add Tournament...")))(function () {
                        return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.AddTournament.value))))(function () {
                            return modify_(function (v1) {
                                var $272 = {};
                                for (var $273 in v1) {
                                    if ({}.hasOwnProperty.call(v1, $273)) {
                                        $272[$273] = v1[$273];
                                    };
                                };
                                $272.route = new Data_Maybe.Just(Route.AddTournament.value);
                                return $272;
                            });
                        });
                    });
                };
                throw new Error("Failed pattern match at Component.Router (line 438, column 5 - line 446, column 51): " + [ v.value0.constructor.name ]);
            };
            if (v instanceof HandleCurrentMatchOutput) {
                return discard(liftEffect(Utils_Logger.log("[Router] Navigating back from Current Match...")))(function () {
                    return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(Route.Overlays.value))))(function () {
                        return modify_(function (v1) {
                            var $277 = {};
                            for (var $278 in v1) {
                                if ({}.hasOwnProperty.call(v1, $278)) {
                                    $277[$278] = v1[$278];
                                };
                            };
                            $277.route = new Data_Maybe.Just(Route.Overlays.value);
                            return $277;
                        });
                    });
                });
            };
            if (v instanceof HandleHomeOutput) {
                return discard(liftEffect(Utils_Logger.log("[Router] Home navigation to: " + show(v.value0.value0))))(function () {
                    return discard(liftEffect(Routing_Hash.setHash(Routing_Duplex.print(Route.routeCodec)(v.value0.value0))))(function () {
                        return modify_(function (v1) {
                            var $282 = {};
                            for (var $283 in v1) {
                                if ({}.hasOwnProperty.call(v1, $283)) {
                                    $282[$283] = v1[$283];
                                };
                            };
                            $282.route = new Data_Maybe.Just(v.value0.value0);
                            return $282;
                        });
                    });
                });
            };
            throw new Error("Failed pattern match at Component.Router (line 346, column 16 - line 460, column 43): " + [ v.constructor.name ]);
        };
    };
};
var _worker = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _tournamentStats = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _tournamentManager = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _tournamentDetails = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _standingsWithPics = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _standings = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _scoringLeadersWithPics = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _scoringLeaders = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _ratingGainWithPics = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _ratingGain = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _overlays = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _navigation = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var withNavigation = function (dictMonadAff) {
    var component1 = Component_Navigation.component(dictMonadAff.MonadEffect0());
    return function (state) {
        return function (content) {
            if (state.username instanceof Data_Maybe.Just && state.userId instanceof Data_Maybe.Just) {
                return Halogen_HTML_Elements.div_([ slot1(_navigation)(Data_Unit.unit)(component1)({
                    username: state.username.value0,
                    userId: state.userId.value0,
                    currentRoute: state.route
                })(HandleNavigationOutput.create), content ]);
            };
            return content;
        };
    };
};
var _miscOverlayTesting = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _miscOverlay = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _login = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _home = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _highScoresWithPics = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _highScores = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _headToHead = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _currentMatch = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _crossTablesPlayerProfile = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var _addTournament = /* #__PURE__ */ (function () {
    return Type_Proxy["Proxy"].value;
})();
var render = function (dictMonadBackend) {
    var component1 = Component_LoginPage.component(dictMonadBackend);
    var component2 = Component_TournamentManagerPage.component(dictMonadBackend);
    var component3 = Component_AddTournament.component(dictMonadBackend);
    var component4 = Component_TournamentDetailsPage.component(dictMonadBackend);
    var component5 = Component_CurrentMatchPage.component(dictMonadBackend);
    return function (dictMonadBroadcast) {
        return function (dictMonadEmitters) {
            return function (dictMonadAff) {
                var withNavigation1 = withNavigation(dictMonadAff);
                var component6 = Component_HomePage.component(dictMonadAff);
                var MonadEffect0 = dictMonadAff.MonadEffect0();
                var component7 = component1(MonadEffect0);
                var component8 = Component_OverlaysPage.component(dictMonadAff);
                var component9 = component2(MonadEffect0);
                var component10 = component3(MonadEffect0);
                var component11 = component4(MonadEffect0);
                var component12 = component5(MonadEffect0);
                var standingsComponent = Component_Overlay_PictureOverlay.standingsComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var standingsComponent1 = Component_Overlay_TableOverlay.standingsComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var highScoresComponent = Component_Overlay_PictureOverlay.highScoresComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var highScoresComponent1 = Component_Overlay_TableOverlay.highScoresComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var ratingGainComponent = Component_Overlay_PictureOverlay.ratingGainComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var ratingGainComponent1 = Component_Overlay_TableOverlay.ratingGainComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var scoringLeadersComponent = Component_Overlay_PictureOverlay.scoringLeadersComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var scoringLeadersComponent1 = Component_Overlay_TableOverlay.scoringLeadersComponent(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var component13 = Component_Overlay_CrossTablesPlayerProfile.component(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var component14 = Component_Overlay_HeadToHead.component(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var component15 = Component_Overlay_MiscOverlay.component(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var component16 = Component_Overlay_TournamentStats.component(dictMonadAff)(dictMonadBroadcast)(dictMonadEmitters);
                var component17 = Component_MiscOverlayTestingPage.component(dictMonadAff);
                var component18 = Component_WorkerPage.component(dictMonadAff);
                return function (dictMonadEffect) {
                    return function (state) {
                        var v = Effect_Unsafe.unsafePerformEffect(Utils_Logger.log("[Router] Rendering route: " + show6(state.route)));
                        if (state.route instanceof Data_Maybe.Nothing) {
                            return Halogen_HTML_Elements.div([ Utils_CSS.css([ Utils_CSS.cls(CSS_Class.CenterContainer.value) ]) ])([ Halogen_HTML_Core.text("Loading...") ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.Home) {
                            return withNavigation1(state)(slot2(_home)(Data_Unit.unit)(component6)(Data_Unit.unit)(HandleHomeOutput.create));
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.Login) {
                            return slot3(_login)(Data_Unit.unit)(component7)(Data_Unit.unit)(HandleLoginSuccess.create);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.Overlays) {
                            return withNavigation1(state)(slot4(_overlays)(Data_Unit.unit)(component8)(Data_Unit.unit)(HandleOverlaysOutput.create));
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.TournamentManager) {
                            return withNavigation1(state)(slot5(_tournamentManager)(Data_Unit.unit)(component9)(Data_Unit.unit)(HandleTournamentManagerOutput.create));
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.AddTournament) {
                            return withNavigation1(state)(slot_1(_addTournament)(Data_Unit.unit)(component10)(Data_Unit.unit));
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.TournamentDetail) {
                            return withNavigation1(state)(slot6(_tournamentDetails)(Data_Unit.unit)(component11)({
                                tournamentId: state.route.value0.value0
                            })(HandleTournamentDetailsOutput.create));
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.CurrentMatch) {
                            return withNavigation1(state)(slot7(_currentMatch)(Data_Unit.unit)(component12)(Data_Unit.unit)(HandleCurrentMatchOutput.create));
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.Standings) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    if (state.route.value0.value0.pics instanceof Data_Maybe.Just && state.route.value0.value0.pics.value0) {
                                        return slot_2(_standingsWithPics)(Data_Unit.unit)(standingsComponent)({
                                            userId: state.route.value0.value0.userId,
                                            subscription: v1.value0,
                                            extra: Data_Unit.unit
                                        });
                                    };
                                    return slot_3(_standings)(Data_Unit.unit)(standingsComponent1)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: Data_Unit.unit
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 208, column 11 - line 223, column 22): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 205, column 7 - line 223, column 22): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.HighScores) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    if (state.route.value0.value0.pics instanceof Data_Maybe.Just && state.route.value0.value0.pics.value0) {
                                        return slot_4(_highScoresWithPics)(Data_Unit.unit)(highScoresComponent)({
                                            userId: state.route.value0.value0.userId,
                                            subscription: v1.value0,
                                            extra: Data_Unit.unit
                                        });
                                    };
                                    return slot_5(_highScores)(Data_Unit.unit)(highScoresComponent1)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: Data_Unit.unit
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 229, column 11 - line 244, column 22): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 226, column 7 - line 244, column 22): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.RatingGain) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    if (state.route.value0.value0.pics instanceof Data_Maybe.Just && state.route.value0.value0.pics.value0) {
                                        return slot_6(_ratingGainWithPics)(Data_Unit.unit)(ratingGainComponent)({
                                            userId: state.route.value0.value0.userId,
                                            subscription: v1.value0,
                                            extra: Data_Unit.unit
                                        });
                                    };
                                    return slot_7(_ratingGain)(Data_Unit.unit)(ratingGainComponent1)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: Data_Unit.unit
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 250, column 11 - line 265, column 22): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 247, column 7 - line 265, column 22): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.ScoringLeaders) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    if (state.route.value0.value0.pics instanceof Data_Maybe.Just && state.route.value0.value0.pics.value0) {
                                        return slot_8(_scoringLeadersWithPics)(Data_Unit.unit)(scoringLeadersComponent)({
                                            userId: state.route.value0.value0.userId,
                                            subscription: v1.value0,
                                            extra: Data_Unit.unit
                                        });
                                    };
                                    return slot_9(_scoringLeaders)(Data_Unit.unit)(scoringLeadersComponent1)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: Data_Unit.unit
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 271, column 11 - line 286, column 22): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 268, column 7 - line 286, column 22): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.CrossTablesPlayerProfile) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    return slot_10(_crossTablesPlayerProfile)(Data_Unit.unit)(component13)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: state.route.value0.value0.playerId
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 292, column 11 - line 299, column 18): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 289, column 7 - line 299, column 18): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.HeadToHead) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    return slot_11(_headToHead)(Data_Unit.unit)(component14)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: {
                                            playerId1: Data_Maybe.fromMaybe(0)(state.route.value0.value0.playerId1),
                                            playerId2: Data_Maybe.fromMaybe(0)(state.route.value0.value0.playerId2)
                                        }
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 305, column 11 - line 312, column 18): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 302, column 7 - line 312, column 18): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.MiscOverlay) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    return slot_12(_miscOverlay)(Data_Unit.unit)(component15)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0,
                                        extra: Component_Overlay_MiscOverlay.parseSource(state.route.value0.value0.source)
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 318, column 11 - line 325, column 18): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 315, column 7 - line 325, column 18): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.TournamentStats) {
                            if (state.broadcastManager instanceof Data_Maybe.Nothing) {
                                return Halogen_HTML_Core.text("Initializing broadcast manager...");
                            };
                            if (state.broadcastManager instanceof Data_Maybe.Just) {
                                var v1 = Component_RouterHelpers.createSubscription(state.route.value0.value0.tournamentId)(state.route.value0.value0.divisionName);
                                if (v1 instanceof Data_Maybe.Nothing) {
                                    return Halogen_HTML_Core.text("Invalid subscription parameters");
                                };
                                if (v1 instanceof Data_Maybe.Just) {
                                    return slot_13(_tournamentStats)(Data_Unit.unit)(component16)({
                                        userId: state.route.value0.value0.userId,
                                        subscription: v1.value0
                                    });
                                };
                                throw new Error("Failed pattern match at Component.Router (line 331, column 11 - line 337, column 18): " + [ v1.constructor.name ]);
                            };
                            throw new Error("Failed pattern match at Component.Router (line 328, column 7 - line 337, column 18): " + [ state.broadcastManager.constructor.name ]);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.MiscOverlayTesting) {
                            return slot_14(_miscOverlayTesting)(Data_Unit.unit)(component17)(Data_Unit.unit);
                        };
                        if (state.route instanceof Data_Maybe.Just && state.route.value0 instanceof Route.Worker) {
                            return slot_15(_worker)(Data_Unit.unit)(component18)(Data_Unit.unit);
                        };
                        throw new Error("Failed pattern match at Component.Router (line 171, column 6 - line 343, column 54): " + [ state.route.constructor.name ]);
                    };
                };
            };
        };
    };
};
var component = function (dictMonadBackend) {
    var render1 = render(dictMonadBackend);
    return function (dictMonadBroadcast) {
        var render2 = render1(dictMonadBroadcast);
        return function (dictMonadEmitters) {
            var render3 = render2(dictMonadEmitters);
            return function (dictMonadAff) {
                var MonadEffect0 = dictMonadAff.MonadEffect0();
                var render4 = render3(dictMonadAff)(MonadEffect0);
                var handleAction1 = handleAction(dictMonadAff)(MonadEffect0);
                var handleQuery1 = handleQuery(dictMonadAff)(MonadEffect0);
                return function (dictMonadEffect) {
                    return Halogen_Component.mkComponent({
                        initialState: function (v) {
                            return {
                                route: Data_Maybe.Nothing.value,
                                isAuthenticated: false,
                                username: Data_Maybe.Nothing.value,
                                userId: Data_Maybe.Nothing.value,
                                broadcastManager: Data_Maybe.Nothing.value,
                                emitterManager: Data_Maybe.Nothing.value
                            };
                        },
                        render: render4,
                        "eval": Halogen_Component.mkEval({
                            receive: Halogen_Component.defaultEval.receive,
                            finalize: Halogen_Component.defaultEval.finalize,
                            handleAction: handleAction1,
                            handleQuery: handleQuery1,
                            initialize: new Data_Maybe.Just(Initialize.value)
                        })
                    });
                };
            };
        };
    };
};
export {
    Navigate,
    Initialize,
    NavigateAction,
    HandleHomeOutput,
    HandleOverlaysOutput,
    HandleLoginSuccess,
    HandleNavigationOutput,
    HandleTournamentDetailsOutput,
    HandleTournamentManagerOutput,
    HandleCurrentMatchOutput,
    _home,
    _login,
    _navigation,
    _overlays,
    _tournamentManager,
    _addTournament,
    _tournamentDetails,
    _currentMatch,
    _standings,
    _standingsWithPics,
    _highScores,
    _highScoresWithPics,
    _ratingGain,
    _ratingGainWithPics,
    _scoringLeaders,
    _scoringLeadersWithPics,
    _crossTablesPlayerProfile,
    _headToHead,
    _miscOverlay,
    _miscOverlayTesting,
    _tournamentStats,
    _worker,
    requiresAuth,
    routeWithAuth,
    withNavigation,
    component,
    render,
    handleAction,
    handleQuery
};
