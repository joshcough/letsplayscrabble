// Generated by purs version 0.15.15
import * as Component_CurrentMatchPageHelpers from "../Component.CurrentMatchPageHelpers/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Identity from "../Data.Identity/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Domain_Types from "../Domain.Types/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Test_Spec from "../Test.Spec/index.js";
import * as Test_Spec_Assertions from "../Test.Spec.Assertions/index.js";
import * as Test_Utils_TestHelpers from "../Test.Utils.TestHelpers/index.js";
var describe = /* #__PURE__ */ Test_Spec.describe(Data_Identity.monadIdentity);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit);
var discard1 = /* #__PURE__ */ discard(/* #__PURE__ */ Test_Spec.bindSpecT(Data_Identity.bindIdentity));
var it = /* #__PURE__ */ Test_Spec.it(Data_Identity.monadIdentity)(Test_Spec.exampleMUnit);
var shouldEqual = /* #__PURE__ */ Test_Spec_Assertions.shouldEqual(Effect_Aff.monadThrowAff);
var shouldEqual1 = /* #__PURE__ */ shouldEqual(/* #__PURE__ */ Data_Maybe.showMaybe(/* #__PURE__ */ Data_Show.showArray(Data_Show.showInt)))(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ Data_Eq.eqArray(Data_Eq.eqInt)));
var idIsSymbol = {
    reflectSymbol: function () {
        return "id";
    }
};
var isByeIsSymbol = {
    reflectSymbol: function () {
        return "isBye";
    }
};
var pairingIdIsSymbol = {
    reflectSymbol: function () {
        return "pairingId";
    }
};
var player1IdIsSymbol = {
    reflectSymbol: function () {
        return "player1Id";
    }
};
var player1ScoreIsSymbol = {
    reflectSymbol: function () {
        return "player1Score";
    }
};
var player2IdIsSymbol = {
    reflectSymbol: function () {
        return "player2Id";
    }
};
var player2ScoreIsSymbol = {
    reflectSymbol: function () {
        return "player2Score";
    }
};
var roundNumberIsSymbol = {
    reflectSymbol: function () {
        return "roundNumber";
    }
};
var showMaybe = /* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showInt);
var eqMaybe = /* #__PURE__ */ Data_Maybe.eqMaybe(Data_Eq.eqInt);
var shouldEqual2 = /* #__PURE__ */ shouldEqual(/* #__PURE__ */ Data_Show.showArray(/* #__PURE__ */ Data_Show.showRecord()()(/* #__PURE__ */ Data_Show.showRecordFieldsCons(idIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(isByeIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(pairingIdIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(player1IdIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(player1ScoreIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(player2IdIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(player2ScoreIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(roundNumberIsSymbol)(Data_Show.showInt))(showMaybe))(Domain_Types.showPlayerId))(showMaybe))(Domain_Types.showPlayerId))(/* #__PURE__ */ Data_Maybe.showMaybe(Domain_Types.showPairingId)))(Data_Show.showBoolean))(Domain_Types.showGameId))))(/* #__PURE__ */ Data_Eq.eqArray(/* #__PURE__ */ Data_Eq.eqRec()(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(Data_Eq.eqRowNil)()(roundNumberIsSymbol)(Data_Eq.eqInt))()(player2ScoreIsSymbol)(eqMaybe))()(player2IdIsSymbol)(Domain_Types.eqPlayerId))()(player1ScoreIsSymbol)(eqMaybe))()(player1IdIsSymbol)(Domain_Types.eqPlayerId))()(pairingIdIsSymbol)(/* #__PURE__ */ Data_Maybe.eqMaybe(Domain_Types.eqPairingId)))()(isByeIsSymbol)(Data_Eq.eqBoolean))()(idIsSymbol)(Domain_Types.eqGameId))));
var discard2 = /* #__PURE__ */ discard(Effect_Aff.bindAff);
var shouldEqual3 = /* #__PURE__ */ shouldEqual(/* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showString))(/* #__PURE__ */ Data_Maybe.eqMaybe(Data_Eq.eqString));
var spec = /* #__PURE__ */ describe("CurrentMatchPageHelpers")(/* #__PURE__ */ discard1(/* #__PURE__ */ describe("getRoundsForDivision")(/* #__PURE__ */ discard1(/* #__PURE__ */ it("returns unique sorted round numbers from division games")(/* #__PURE__ */ (function () {
    var player2 = Test_Utils_TestHelpers.createPlayer(2)("Bob")(1400);
    var player1 = Test_Utils_TestHelpers.createPlayer(1)("Alice")(1500);
    var game4 = Test_Utils_TestHelpers.createCompletedGame({
        gameId: 4,
        round: 2,
        player1: 1,
        player2: 2,
        score1: 390,
        score2: 380
    });
    var game3 = Test_Utils_TestHelpers.createCompletedGame({
        gameId: 3,
        round: 3,
        player1: 1,
        player2: 2,
        score1: 420,
        score2: 360
    });
    var game2 = Test_Utils_TestHelpers.createCompletedGame({
        gameId: 2,
        round: 1,
        player1: 1,
        player2: 2,
        score1: 380,
        score2: 370
    });
    var game1 = Test_Utils_TestHelpers.createCompletedGame({
        gameId: 1,
        round: 3,
        player1: 1,
        player2: 2,
        score1: 400,
        score2: 350
    });
    var division = Test_Utils_TestHelpers.createDivision(1)("A")([ player1, player2 ])([ game1, game2, game3, game4 ]);
    var tournament = Test_Utils_TestHelpers.createTournament(100)("Test Tournament")([ division ]);
    return shouldEqual1(Component_CurrentMatchPageHelpers.getRoundsForDivision(tournament)(1))(new Data_Maybe.Just([ 1, 2, 3 ]));
})()))(function () {
    return discard1(it("returns Nothing when division not found")((function () {
        var player = Test_Utils_TestHelpers.createPlayer(1)("Alice")(1500);
        var division = Test_Utils_TestHelpers.createDivision(1)("A")([ player ])([  ]);
        var tournament = Test_Utils_TestHelpers.createTournament(100)("Test Tournament")([ division ]);
        return shouldEqual1(Component_CurrentMatchPageHelpers.getRoundsForDivision(tournament)(999))(Data_Maybe.Nothing.value);
    })()))(function () {
        return it("returns empty array when division has no games")((function () {
            var player = Test_Utils_TestHelpers.createPlayer(1)("Alice")(1500);
            var division = Test_Utils_TestHelpers.createDivision(1)("A")([ player ])([  ]);
            var tournament = Test_Utils_TestHelpers.createTournament(100)("Test Tournament")([ division ]);
            return shouldEqual1(Component_CurrentMatchPageHelpers.getRoundsForDivision(tournament)(1))(new Data_Maybe.Just([  ]));
        })());
    });
})))(function () {
    return discard1(describe("getPairingsForRound")(discard1(it("returns all games from specified round")((function () {
        var player3 = Test_Utils_TestHelpers.createPlayer(3)("Charlie")(1600);
        var player2 = Test_Utils_TestHelpers.createPlayer(2)("Bob")(1400);
        var player1 = Test_Utils_TestHelpers.createPlayer(1)("Alice")(1500);
        var game3 = Test_Utils_TestHelpers.createCompletedGame({
            gameId: 3,
            round: 2,
            player1: 2,
            player2: 3,
            score1: 420,
            score2: 360
        });
        var game2 = Test_Utils_TestHelpers.createCompletedGame({
            gameId: 2,
            round: 1,
            player1: 1,
            player2: 3,
            score1: 380,
            score2: 370
        });
        var game1 = Test_Utils_TestHelpers.createCompletedGame({
            gameId: 1,
            round: 2,
            player1: 1,
            player2: 2,
            score1: 400,
            score2: 350
        });
        var division = Test_Utils_TestHelpers.createDivision(1)("A")([ player1, player2, player3 ])([ game1, game2, game3 ]);
        var round2Games = Component_CurrentMatchPageHelpers.getPairingsForRound(division)(2);
        return shouldEqual2(round2Games)([ game1, game3 ]);
    })()))(function () {
        return it("returns empty array when no games in round")((function () {
            var player = Test_Utils_TestHelpers.createPlayer(1)("Alice")(1500);
            var game = Test_Utils_TestHelpers.createCompletedGame({
                gameId: 1,
                round: 1,
                player1: 1,
                player2: 1,
                score1: 400,
                score2: 350
            });
            var division = Test_Utils_TestHelpers.createDivision(1)("A")([ player ])([ game ]);
            return shouldEqual2(Component_CurrentMatchPageHelpers.getPairingsForRound(division)(999))([  ]);
        })());
    })))(function () {
        return describe("getPlayerName")(discard1(it("returns player name when found")((function () {
            var player2 = Test_Utils_TestHelpers.createPlayer(102)("Bob")(1400);
            var player1 = Test_Utils_TestHelpers.createPlayer(101)("Alice")(1500);
            var players = [ player1, player2 ];
            return discard2(shouldEqual3(Component_CurrentMatchPageHelpers.getPlayerName(players)(101))(new Data_Maybe.Just("Alice")))(function () {
                return shouldEqual3(Component_CurrentMatchPageHelpers.getPlayerName(players)(102))(new Data_Maybe.Just("Bob"));
            });
        })()))(function () {
            return discard1(it("returns Nothing when player not found")((function () {
                var player = Test_Utils_TestHelpers.createPlayer(101)("Alice")(1500);
                var players = [ player ];
                return shouldEqual3(Component_CurrentMatchPageHelpers.getPlayerName(players)(999))(Data_Maybe.Nothing.value);
            })()))(function () {
                return it("returns Nothing for empty player array")(shouldEqual3(Component_CurrentMatchPageHelpers.getPlayerName([  ])(101))(Data_Maybe.Nothing.value));
            });
        }));
    });
}));
export {
    spec
};
