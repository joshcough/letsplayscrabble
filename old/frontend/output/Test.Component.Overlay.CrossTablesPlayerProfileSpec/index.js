// Generated by purs version 0.15.15
import * as Component_Overlay_CrossTablesPlayerProfile from "../Component.Overlay.CrossTablesPlayerProfile/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Identity from "../Data.Identity/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Domain_Types from "../Domain.Types/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Test_Spec from "../Test.Spec/index.js";
import * as Test_Spec_Assertions from "../Test.Spec.Assertions/index.js";
import * as Test_Utils_TestHelpers from "../Test.Utils.TestHelpers/index.js";
var describe = /* #__PURE__ */ Test_Spec.describe(Data_Identity.monadIdentity);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit);
var discard1 = /* #__PURE__ */ discard(/* #__PURE__ */ Test_Spec.bindSpecT(Data_Identity.bindIdentity));
var it = /* #__PURE__ */ Test_Spec.it(Data_Identity.monadIdentity)(Test_Spec.exampleMUnit);
var shouldEqual = /* #__PURE__ */ Test_Spec_Assertions.shouldEqual(Effect_Aff.monadThrowAff);
var showMaybe = /* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showInt);
var eqMaybe = /* #__PURE__ */ Data_Maybe.eqMaybe(Data_Eq.eqInt);
var shouldEqual1 = /* #__PURE__ */ shouldEqual(showMaybe)(eqMaybe);
var discard2 = /* #__PURE__ */ discard(Effect_Aff.bindAff);
var shouldEqual2 = /* #__PURE__ */ shouldEqual(Data_Show.showString)(Data_Eq.eqString);
var showRecord = /* #__PURE__ */ Data_Show.showRecord()();
var idIsSymbol = {
    reflectSymbol: function () {
        return "id";
    }
};
var initialRatingIsSymbol = {
    reflectSymbol: function () {
        return "initialRating";
    }
};
var nameIsSymbol = {
    reflectSymbol: function () {
        return "name";
    }
};
var showRecordFieldsCons = /* #__PURE__ */ Data_Show.showRecordFieldsCons(nameIsSymbol);
var photoIsSymbol = {
    reflectSymbol: function () {
        return "photo";
    }
};
var ratingsHistoryIsSymbol = {
    reflectSymbol: function () {
        return "ratingsHistory";
    }
};
var seedIsSymbol = {
    reflectSymbol: function () {
        return "seed";
    }
};
var xtDataIsSymbol = {
    reflectSymbol: function () {
        return "xtData";
    }
};
var xtidIsSymbol = {
    reflectSymbol: function () {
        return "xtid";
    }
};
var averageScoreIsSymbol = {
    reflectSymbol: function () {
        return "averageScore";
    }
};
var bIsSymbol = {
    reflectSymbol: function () {
        return "b";
    }
};
var cityIsSymbol = {
    reflectSymbol: function () {
        return "city";
    }
};
var countryIsSymbol = {
    reflectSymbol: function () {
        return "country";
    }
};
var cswrankingIsSymbol = {
    reflectSymbol: function () {
        return "cswranking";
    }
};
var cswratingIsSymbol = {
    reflectSymbol: function () {
        return "cswrating";
    }
};
var lIsSymbol = {
    reflectSymbol: function () {
        return "l";
    }
};
var opponentAverageScoreIsSymbol = {
    reflectSymbol: function () {
        return "opponentAverageScore";
    }
};
var photourlIsSymbol = {
    reflectSymbol: function () {
        return "photourl";
    }
};
var playeridIsSymbol = {
    reflectSymbol: function () {
        return "playerid";
    }
};
var resultsIsSymbol = {
    reflectSymbol: function () {
        return "results";
    }
};
var stateIsSymbol = {
    reflectSymbol: function () {
        return "state";
    }
};
var tIsSymbol = {
    reflectSymbol: function () {
        return "t";
    }
};
var tournamentCountIsSymbol = {
    reflectSymbol: function () {
        return "tournamentCount";
    }
};
var twlrankingIsSymbol = {
    reflectSymbol: function () {
        return "twlranking";
    }
};
var twlratingIsSymbol = {
    reflectSymbol: function () {
        return "twlrating";
    }
};
var wIsSymbol = {
    reflectSymbol: function () {
        return "w";
    }
};
var showMaybe1 = /* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showString);
var averagepointsIsSymbol = {
    reflectSymbol: function () {
        return "averagepoints";
    }
};
var dateIsSymbol = {
    reflectSymbol: function () {
        return "date";
    }
};
var divisionIsSymbol = {
    reflectSymbol: function () {
        return "division";
    }
};
var lossesIsSymbol = {
    reflectSymbol: function () {
        return "losses";
    }
};
var placeIsSymbol = {
    reflectSymbol: function () {
        return "place";
    }
};
var pointsIsSymbol = {
    reflectSymbol: function () {
        return "points";
    }
};
var ratingIsSymbol = {
    reflectSymbol: function () {
        return "rating";
    }
};
var ratingchangeIsSymbol = {
    reflectSymbol: function () {
        return "ratingchange";
    }
};
var tiesIsSymbol = {
    reflectSymbol: function () {
        return "ties";
    }
};
var totalplayersIsSymbol = {
    reflectSymbol: function () {
        return "totalplayers";
    }
};
var tourneyidIsSymbol = {
    reflectSymbol: function () {
        return "tourneyid";
    }
};
var winsIsSymbol = {
    reflectSymbol: function () {
        return "wins";
    }
};
var eqRec = /* #__PURE__ */ Data_Eq.eqRec();
var eqRowCons = /* #__PURE__ */ Data_Eq.eqRowCons(Data_Eq.eqRowNil)();
var eqMaybe1 = /* #__PURE__ */ Data_Maybe.eqMaybe(Data_Eq.eqString);
var shouldEqual3 = /* #__PURE__ */ shouldEqual(/* #__PURE__ */ Data_Maybe.showMaybe(/* #__PURE__ */ showRecord(/* #__PURE__ */ Data_Show.showRecordFieldsCons(idIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(initialRatingIsSymbol)(/* #__PURE__ */ showRecordFieldsCons(/* #__PURE__ */ Data_Show.showRecordFieldsCons(photoIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(ratingsHistoryIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(seedIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(xtDataIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(xtidIsSymbol)(/* #__PURE__ */ Data_Maybe.showMaybe(Domain_Types.showXTId)))(/* #__PURE__ */ Data_Maybe.showMaybe(/* #__PURE__ */ showRecord(/* #__PURE__ */ Data_Show.showRecordFieldsCons(averageScoreIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(bIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(cityIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(countryIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(cswrankingIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(cswratingIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(lIsSymbol)(/* #__PURE__ */ showRecordFieldsCons(/* #__PURE__ */ Data_Show.showRecordFieldsCons(opponentAverageScoreIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(photourlIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(playeridIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(resultsIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(stateIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(tIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(tournamentCountIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(twlrankingIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(twlratingIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(wIsSymbol)(showMaybe))(showMaybe))(showMaybe))(showMaybe))(showMaybe))(showMaybe1))(/* #__PURE__ */ Data_Maybe.showMaybe(/* #__PURE__ */ Data_Show.showArray(/* #__PURE__ */ showRecord(/* #__PURE__ */ Data_Show.showRecordFieldsCons(averagepointsIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(dateIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(divisionIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(lossesIsSymbol)(/* #__PURE__ */ showRecordFieldsCons(/* #__PURE__ */ Data_Show.showRecordFieldsCons(placeIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(pointsIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(ratingIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(ratingchangeIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(tiesIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(totalplayersIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(tourneyidIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(winsIsSymbol)(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showInt))(Data_Show.showString))(Data_Show.showInt))(Data_Show.showString))(Data_Show.showString))(Data_Show.showInt))))))(Data_Show.showInt))(showMaybe1))(showMaybe))(Data_Show.showString))(showMaybe))(showMaybe))(showMaybe))(showMaybe1))(showMaybe1))(showMaybe))(showMaybe)))))(Data_Show.showInt))(/* #__PURE__ */ Data_Show.showArray(Data_Show.showInt)))(showMaybe1))(Data_Show.showString))(Data_Show.showInt))(Domain_Types.showPlayerId))))(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons(xtidIsSymbol)(/* #__PURE__ */ Data_Maybe.eqMaybe(Domain_Types.eqXTId)))()(xtDataIsSymbol)(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons(wIsSymbol)(eqMaybe))()(twlratingIsSymbol)(eqMaybe))()(twlrankingIsSymbol)(eqMaybe))()(tournamentCountIsSymbol)(eqMaybe))()(tIsSymbol)(eqMaybe))()(stateIsSymbol)(eqMaybe1))()(resultsIsSymbol)(/* #__PURE__ */ Data_Maybe.eqMaybe(/* #__PURE__ */ Data_Eq.eqArray(/* #__PURE__ */ eqRec(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ Data_Eq.eqRowCons(/* #__PURE__ */ eqRowCons(winsIsSymbol)(Data_Eq.eqInt))()(tourneyidIsSymbol)(Data_Eq.eqInt))()(totalplayersIsSymbol)(Data_Eq.eqInt))()(tiesIsSymbol)(Data_Eq.eqInt))()(ratingchangeIsSymbol)(Data_Eq.eqInt))()(ratingIsSymbol)(Data_Eq.eqInt))()(pointsIsSymbol)(Data_Eq.eqInt))()(placeIsSymbol)(Data_Eq.eqInt))()(nameIsSymbol)(Data_Eq.eqString))()(lossesIsSymbol)(Data_Eq.eqInt))()(divisionIsSymbol)(Data_Eq.eqString))()(dateIsSymbol)(Data_Eq.eqString))()(averagepointsIsSymbol)(Data_Eq.eqInt))))))()(playeridIsSymbol)(Data_Eq.eqInt))()(photourlIsSymbol)(eqMaybe1))()(opponentAverageScoreIsSymbol)(eqMaybe))()(nameIsSymbol)(Data_Eq.eqString))()(lIsSymbol)(eqMaybe))()(cswratingIsSymbol)(eqMaybe))()(cswrankingIsSymbol)(eqMaybe))()(countryIsSymbol)(eqMaybe1))()(cityIsSymbol)(eqMaybe1))()(bIsSymbol)(eqMaybe))()(averageScoreIsSymbol)(eqMaybe)))))()(seedIsSymbol)(Data_Eq.eqInt))()(ratingsHistoryIsSymbol)(/* #__PURE__ */ Data_Eq.eqArray(Data_Eq.eqInt)))()(photoIsSymbol)(eqMaybe1))()(nameIsSymbol)(Data_Eq.eqString))()(initialRatingIsSymbol)(Data_Eq.eqInt))()(idIsSymbol)(Domain_Types.eqPlayerId))));
var spec = /* #__PURE__ */ describe("CrossTablesPlayerProfile")(/* #__PURE__ */ discard1(/* #__PURE__ */ describe("resolvePlayerId")(/* #__PURE__ */ discard1(/* #__PURE__ */ it("extracts player1 ID from current match when playerIdParam is 1")(/* #__PURE__ */ (function () {
    var games = [ Test_Utils_TestHelpers.createCompletedGame({
        gameId: 1,
        round: 1,
        player1: 101,
        player2: 102,
        score1: 400,
        score2: 350
    }) ];
    var currentMatch = new Data_Maybe.Just({
        round: 1,
        pairingId: 1
    });
    var result = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(1)(currentMatch)(games);
    return shouldEqual1(result)(new Data_Maybe.Just(101));
})()))(function () {
    return discard1(it("extracts player2 ID from current match when playerIdParam is 2")((function () {
        var games = [ Test_Utils_TestHelpers.createCompletedGame({
            gameId: 1,
            round: 1,
            player1: 101,
            player2: 102,
            score1: 400,
            score2: 350
        }) ];
        var currentMatch = new Data_Maybe.Just({
            round: 1,
            pairingId: 1
        });
        var result = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(2)(currentMatch)(games);
        return shouldEqual1(result)(new Data_Maybe.Just(102));
    })()))(function () {
        return discard1(it("returns playerIdParam directly when no current match")((function () {
            var games = [ Test_Utils_TestHelpers.createCompletedGame({
                gameId: 1,
                round: 1,
                player1: 101,
                player2: 102,
                score1: 400,
                score2: 350
            }) ];
            var result = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(123)(Data_Maybe.Nothing.value)(games);
            return shouldEqual1(result)(new Data_Maybe.Just(123));
        })()))(function () {
            return discard1(it("returns playerIdParam directly when playerIdParam is not 1 or 2")((function () {
                var games = [ Test_Utils_TestHelpers.createCompletedGame({
                    gameId: 1,
                    round: 1,
                    player1: 101,
                    player2: 102,
                    score1: 400,
                    score2: 350
                }) ];
                var currentMatch = new Data_Maybe.Just({
                    round: 1,
                    pairingId: 1
                });
                var result = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(123)(currentMatch)(games);
                return shouldEqual1(result)(new Data_Maybe.Just(123));
            })()))(function () {
                return discard1(it("falls back to playerIdParam when game not found in current match")((function () {
                    var games = [ Test_Utils_TestHelpers.createCompletedGame({
                        gameId: 1,
                        round: 1,
                        player1: 101,
                        player2: 102,
                        score1: 400,
                        score2: 350
                    }) ];
                    var currentMatch = new Data_Maybe.Just({
                        round: 99,
                        pairingId: 99
                    });
                    var result = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(1)(currentMatch)(games);
                    return shouldEqual1(result)(new Data_Maybe.Just(1));
                })()))(function () {
                    return it("handles multiple games and finds correct match")((function () {
                        var games = [ Test_Utils_TestHelpers.createCompletedGame({
                            gameId: 1,
                            round: 1,
                            player1: 101,
                            player2: 102,
                            score1: 400,
                            score2: 350
                        }), Test_Utils_TestHelpers.createCompletedGame({
                            gameId: 2,
                            round: 2,
                            player1: 103,
                            player2: 104,
                            score1: 420,
                            score2: 380
                        }), Test_Utils_TestHelpers.createCompletedGame({
                            gameId: 3,
                            round: 1,
                            player1: 105,
                            player2: 106,
                            score1: 390,
                            score2: 360
                        }) ];
                        var currentMatch = new Data_Maybe.Just({
                            round: 2,
                            pairingId: 2
                        });
                        var result1 = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(1)(currentMatch)(games);
                        var result2 = Component_Overlay_CrossTablesPlayerProfile.resolvePlayerId(2)(currentMatch)(games);
                        return discard2(shouldEqual1(result1)(new Data_Maybe.Just(103)))(function () {
                            return shouldEqual1(result2)(new Data_Maybe.Just(104));
                        });
                    })());
                });
            });
        });
    });
})))(function () {
    return discard1(describe("findPlayerByParam")(discard1(it("finds player in current match mode")((function () {
        var players = [ Test_Utils_TestHelpers.createPlayer(101)("Alice Smith")(1500), Test_Utils_TestHelpers.createPlayer(102)("Bob Jones")(1450) ];
        var games = [ Test_Utils_TestHelpers.createCompletedGame({
            gameId: 1,
            round: 1,
            player1: 101,
            player2: 102,
            score1: 400,
            score2: 350
        }) ];
        var currentMatch = new Data_Maybe.Just({
            round: 1,
            pairingId: 1
        });
        var result = Component_Overlay_CrossTablesPlayerProfile.findPlayerByParam(1)(currentMatch)(games)(players);
        if (result instanceof Data_Maybe.Just) {
            return shouldEqual2(result.value0.name)("Alice Smith");
        };
        if (result instanceof Data_Maybe.Nothing) {
            return shouldEqual2("Found player")("Nothing");
        };
        throw new Error("Failed pattern match at Test.Component.Overlay.CrossTablesPlayerProfileSpec (line 80, column 9 - line 82, column 58): " + [ result.constructor.name ]);
    })()))(function () {
        return discard1(it("finds player in specific player mode")((function () {
            var players = [ Test_Utils_TestHelpers.createPlayer(101)("Alice Smith")(1500), Test_Utils_TestHelpers.createPlayer(102)("Bob Jones")(1450) ];
            var games = [  ];
            var result = Component_Overlay_CrossTablesPlayerProfile.findPlayerByParam(102)(Data_Maybe.Nothing.value)(games)(players);
            if (result instanceof Data_Maybe.Just) {
                return shouldEqual2(result.value0.name)("Bob Jones");
            };
            if (result instanceof Data_Maybe.Nothing) {
                return shouldEqual2("Found player")("Nothing");
            };
            throw new Error("Failed pattern match at Test.Component.Overlay.CrossTablesPlayerProfileSpec (line 93, column 9 - line 95, column 58): " + [ result.constructor.name ]);
        })()))(function () {
            return it("returns Nothing when player not found")((function () {
                var players = [ Test_Utils_TestHelpers.createPlayer(101)("Alice Smith")(1500), Test_Utils_TestHelpers.createPlayer(102)("Bob Jones")(1450) ];
                var games = [  ];
                var result = Component_Overlay_CrossTablesPlayerProfile.findPlayerByParam(999)(Data_Maybe.Nothing.value)(games)(players);
                return shouldEqual3(result)(Data_Maybe.Nothing.value);
            })());
        });
    })))(function () {
        return discard1(describe("prepareProfileData")(discard1(it("extracts data from player with complete xtData")((function () {
            var xtData = {
                playerid: 12345,
                name: "Test Player",
                twlrating: Data_Maybe.Nothing.value,
                cswrating: Data_Maybe.Nothing.value,
                twlranking: new Data_Maybe.Just(42),
                cswranking: Data_Maybe.Nothing.value,
                w: new Data_Maybe.Just(15),
                l: new Data_Maybe.Just(10),
                t: new Data_Maybe.Just(2),
                b: Data_Maybe.Nothing.value,
                photourl: Data_Maybe.Nothing.value,
                city: new Data_Maybe.Just("New York"),
                state: new Data_Maybe.Just("NY"),
                country: new Data_Maybe.Just("USA"),
                tournamentCount: new Data_Maybe.Just(30),
                averageScore: new Data_Maybe.Just(420),
                opponentAverageScore: new Data_Maybe.Just(400),
                results: Data_Maybe.Nothing.value
            };
            var player = {
                id: 1,
                name: "Test Player",
                seed: 1,
                initialRating: 1500,
                ratingsHistory: [ 1520, 1540 ],
                xtid: new Data_Maybe.Just(12345),
                xtData: new Data_Maybe.Just(xtData),
                photo: Data_Maybe.Nothing.value
            };
            var result = Component_Overlay_CrossTablesPlayerProfile.prepareProfileData(player);
            return discard2(shouldEqual1(result.rating)(new Data_Maybe.Just(1540)))(function () {
                return discard2(shouldEqual1(result.ranking)(new Data_Maybe.Just(42)))(function () {
                    return discard2(shouldEqual1(result.tournamentCount)(new Data_Maybe.Just(30)))(function () {
                        return discard2(shouldEqual1(result.averageScore)(new Data_Maybe.Just(420)))(function () {
                            return discard2(shouldEqual1(result.opponentAvgScore)(new Data_Maybe.Just(400)))(function () {
                                return discard2(shouldEqual1(result.wins)(new Data_Maybe.Just(15)))(function () {
                                    return discard2(shouldEqual1(result.losses)(new Data_Maybe.Just(10)))(function () {
                                        return shouldEqual1(result.ties)(new Data_Maybe.Just(2));
                                    });
                                });
                            });
                        });
                    });
                });
            });
        })()))(function () {
            return discard1(it("handles player without xtData")((function () {
                var player = Test_Utils_TestHelpers.createPlayer(1)("Test Player")(1500);
                var result = Component_Overlay_CrossTablesPlayerProfile.prepareProfileData(player);
                return discard2(shouldEqual1(result.rating)(new Data_Maybe.Just(1500)))(function () {
                    return discard2(shouldEqual1(result.ranking)(Data_Maybe.Nothing.value))(function () {
                        return discard2(shouldEqual1(result.tournamentCount)(Data_Maybe.Nothing.value))(function () {
                            return discard2(shouldEqual1(result.averageScore)(Data_Maybe.Nothing.value))(function () {
                                return discard2(shouldEqual1(result.opponentAvgScore)(Data_Maybe.Nothing.value))(function () {
                                    return discard2(shouldEqual1(result.wins)(Data_Maybe.Nothing.value))(function () {
                                        return discard2(shouldEqual1(result.losses)(Data_Maybe.Nothing.value))(function () {
                                            return shouldEqual1(result.ties)(Data_Maybe.Nothing.value);
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            })()))(function () {
                return it("handles player with partial xtData")((function () {
                    var xtData = Test_Utils_TestHelpers.createCrossTablesPlayer({
                        playerId: 12345,
                        name: "Test Player",
                        twlranking: new Data_Maybe.Just(100),
                        wins: Data_Maybe.Nothing.value,
                        losses: Data_Maybe.Nothing.value,
                        ties: Data_Maybe.Nothing.value,
                        tournamentCount: new Data_Maybe.Just(5)
                    });
                    var player = Test_Utils_TestHelpers.createPlayerWithXtData({
                        playerId: 1,
                        name: "Test Player",
                        initialRating: 1500,
                        xtData: xtData
                    });
                    var result = Component_Overlay_CrossTablesPlayerProfile.prepareProfileData(player);
                    return discard2(shouldEqual1(result.rating)(new Data_Maybe.Just(1500)))(function () {
                        return discard2(shouldEqual1(result.ranking)(new Data_Maybe.Just(100)))(function () {
                            return discard2(shouldEqual1(result.tournamentCount)(new Data_Maybe.Just(5)))(function () {
                                return shouldEqual1(result.wins)(Data_Maybe.Nothing.value);
                            });
                        });
                    });
                })());
            });
        })))(function () {
            return describe("preparePlayerImageData")(discard1(it("uses xt photourl when available")((function () {
                var xtData = {
                    playerid: 12345,
                    name: "Test Player",
                    twlrating: Data_Maybe.Nothing.value,
                    cswrating: Data_Maybe.Nothing.value,
                    twlranking: Data_Maybe.Nothing.value,
                    cswranking: Data_Maybe.Nothing.value,
                    w: Data_Maybe.Nothing.value,
                    l: Data_Maybe.Nothing.value,
                    t: Data_Maybe.Nothing.value,
                    b: Data_Maybe.Nothing.value,
                    photourl: new Data_Maybe.Just("https://cross-tables.com/photo.jpg"),
                    city: Data_Maybe.Nothing.value,
                    state: Data_Maybe.Nothing.value,
                    country: Data_Maybe.Nothing.value,
                    tournamentCount: Data_Maybe.Nothing.value,
                    averageScore: Data_Maybe.Nothing.value,
                    opponentAverageScore: Data_Maybe.Nothing.value,
                    results: Data_Maybe.Nothing.value
                };
                var player = Test_Utils_TestHelpers.createPlayerWithXtData({
                    playerId: 1,
                    name: "Test Player",
                    initialRating: 1500,
                    xtData: xtData
                });
                var result = Component_Overlay_CrossTablesPlayerProfile.preparePlayerImageData(player)(Test_Utils_TestHelpers.createTournamentSummary);
                return discard2(shouldEqual2(result.imageUrl)("https://cross-tables.com/photo.jpg"))(function () {
                    return shouldEqual2(result.altText)("Test Player");
                });
            })()))(function () {
                return it("sets correct alt text")((function () {
                    var player = Test_Utils_TestHelpers.createPlayer(1)("Alice Smith")(1500);
                    var result = Component_Overlay_CrossTablesPlayerProfile.preparePlayerImageData(player)(Test_Utils_TestHelpers.createTournamentSummary);
                    return shouldEqual2(result.altText)("Alice Smith");
                })());
            }));
        });
    });
}));
export {
    spec
};
