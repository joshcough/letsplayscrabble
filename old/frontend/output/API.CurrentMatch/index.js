// Generated by purs version 0.15.15
import * as Affjax from "../Affjax/index.js";
import * as Affjax_RequestBody from "../Affjax.RequestBody/index.js";
import * as Affjax_RequestHeader from "../Affjax.RequestHeader/index.js";
import * as Affjax_ResponseFormat from "../Affjax.ResponseFormat/index.js";
import * as Affjax_StatusCode from "../Affjax.StatusCode/index.js";
import * as Affjax_Web from "../Affjax.Web/index.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Argonaut_Decode_Class from "../Data.Argonaut.Decode.Class/index.js";
import * as Data_Argonaut_Decode_Combinators from "../Data.Argonaut.Decode.Combinators/index.js";
import * as Data_Argonaut_Decode_Error from "../Data.Argonaut.Decode.Error/index.js";
import * as Data_Argonaut_Encode_Class from "../Data.Argonaut.Encode.Class/index.js";
import * as Data_Argonaut_Encode_Combinators from "../Data.Argonaut.Encode.Combinators/index.js";
import * as Data_Bifunctor from "../Data.Bifunctor/index.js";
import * as Data_Either from "../Data.Either/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_HTTP_Method from "../Data.HTTP.Method/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Traversable from "../Data.Traversable/index.js";
import * as Domain_Types from "../Domain.Types/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Effect_Class from "../Effect.Class/index.js";
import * as Utils_Auth from "../Utils.Auth/index.js";
var bind = /* #__PURE__ */ Control_Bind.bind(Data_Either.bindEither);
var lmap = /* #__PURE__ */ Data_Bifunctor.lmap(Data_Bifunctor.bifunctorEither);
var decodeForeignObject = /* #__PURE__ */ Data_Argonaut_Decode_Class.decodeForeignObject(Data_Argonaut_Decode_Class.decodeJsonJson);
var decodeJson = /* #__PURE__ */ Data_Argonaut_Decode_Class.decodeJson(decodeForeignObject);
var map = /* #__PURE__ */ Data_Functor.map(Data_Either.functorEither);
var getField = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(Data_Argonaut_Decode_Class.decodeJsonInt);
var getField1 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(Data_Argonaut_Decode_Class.decodeJsonString);
var getField2 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeJsonMaybe(Data_Argonaut_Decode_Class.decodeJsonString));
var getField3 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeArray(Data_Argonaut_Decode_Class.decodeJsonInt));
var map1 = /* #__PURE__ */ Data_Functor.map(Data_Maybe.functorMaybe);
var getField4 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeJsonMaybe(Data_Argonaut_Decode_Class.decodeJsonInt));
var gDecodeJsonCons = /* #__PURE__ */ Data_Argonaut_Decode_Class.gDecodeJsonCons(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeFieldMaybe(Data_Argonaut_Decode_Class.decodeJsonInt));
var gDecodeJsonCons1 = /* #__PURE__ */ Data_Argonaut_Decode_Class.gDecodeJsonCons(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeFieldMaybe(Data_Argonaut_Decode_Class.decodeJsonString));
var gDecodeJsonCons2 = /* #__PURE__ */ Data_Argonaut_Decode_Class.gDecodeJsonCons(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeFieldId(Data_Argonaut_Decode_Class.decodeJsonString));
var gDecodeJsonCons3 = /* #__PURE__ */ Data_Argonaut_Decode_Class.gDecodeJsonCons(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeFieldId(Data_Argonaut_Decode_Class.decodeJsonInt));
var nameIsSymbol = {
    reflectSymbol: function () {
        return "name";
    }
};
var getField5 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeJsonMaybe(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeRecord(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons1(/* #__PURE__ */ gDecodeJsonCons1(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons2(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons1(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ Data_Argonaut_Decode_Class.gDecodeJsonCons(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeFieldMaybe(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeArray(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeRecord(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons2(/* #__PURE__ */ gDecodeJsonCons2(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons2(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(/* #__PURE__ */ gDecodeJsonCons3(Data_Argonaut_Decode_Class.gDecodeJsonNil)({
    reflectSymbol: function () {
        return "wins";
    }
})()())({
    reflectSymbol: function () {
        return "tourneyid";
    }
})()())({
    reflectSymbol: function () {
        return "totalplayers";
    }
})()())({
    reflectSymbol: function () {
        return "ties";
    }
})()())({
    reflectSymbol: function () {
        return "ratingchange";
    }
})()())({
    reflectSymbol: function () {
        return "rating";
    }
})()())({
    reflectSymbol: function () {
        return "points";
    }
})()())({
    reflectSymbol: function () {
        return "place";
    }
})()())(nameIsSymbol)()())({
    reflectSymbol: function () {
        return "losses";
    }
})()())({
    reflectSymbol: function () {
        return "division";
    }
})()())({
    reflectSymbol: function () {
        return "date";
    }
})()())({
    reflectSymbol: function () {
        return "averagepoints";
    }
})()())())))(/* #__PURE__ */ gDecodeJsonCons1(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(/* #__PURE__ */ gDecodeJsonCons(Data_Argonaut_Decode_Class.gDecodeJsonNil)({
    reflectSymbol: function () {
        return "w";
    }
})()())({
    reflectSymbol: function () {
        return "twlrating";
    }
})()())({
    reflectSymbol: function () {
        return "twlranking";
    }
})()())({
    reflectSymbol: function () {
        return "tournamentCount";
    }
})()())({
    reflectSymbol: function () {
        return "t";
    }
})()())({
    reflectSymbol: function () {
        return "state";
    }
})()())({
    reflectSymbol: function () {
        return "results";
    }
})()())({
    reflectSymbol: function () {
        return "playerid";
    }
})()())({
    reflectSymbol: function () {
        return "photourl";
    }
})()())({
    reflectSymbol: function () {
        return "opponentAverageScore";
    }
})()())(nameIsSymbol)()())({
    reflectSymbol: function () {
        return "l";
    }
})()())({
    reflectSymbol: function () {
        return "cswrating";
    }
})()())({
    reflectSymbol: function () {
        return "cswranking";
    }
})()())({
    reflectSymbol: function () {
        return "country";
    }
})()())({
    reflectSymbol: function () {
        return "city";
    }
})()())({
    reflectSymbol: function () {
        return "b";
    }
})()())({
    reflectSymbol: function () {
        return "averageScore";
    }
})()())()));
var pure = /* #__PURE__ */ Control_Applicative.pure(Data_Either.applicativeEither);
var getFieldOptional$prime = /* #__PURE__ */ Data_Argonaut_Decode_Combinators["getFieldOptional$prime"](Data_Argonaut_Decode_Class.decodeJsonString);
var getField6 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(decodeForeignObject);
var getFieldOptional$prime1 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators["getFieldOptional$prime"](Data_Argonaut_Decode_Class.decodeJsonInt);
var getField7 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(Data_Argonaut_Decode_Class.decodeJsonBoolean);
var getField8 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(/* #__PURE__ */ Data_Argonaut_Decode_Class.decodeArray(Data_Argonaut_Decode_Class.decodeJsonJson));
var traverse = /* #__PURE__ */ Data_Traversable.traverse(Data_Traversable.traversableArray)(Data_Either.applicativeEither);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var bind1 = /* #__PURE__ */ Control_Bind.bind(Effect_Aff.bindAff);
var pure1 = /* #__PURE__ */ Control_Applicative.pure(Effect_Aff.applicativeAff);
var getField9 = /* #__PURE__ */ Data_Argonaut_Decode_Combinators.getField(Data_Argonaut_Decode_Class.decodeJsonJson);
var eq = /* #__PURE__ */ Data_Eq.eq(Affjax_StatusCode.eqStatusCode);
var liftEffect = /* #__PURE__ */ Effect_Class.liftEffect(Effect_Aff.monadEffectAff);
var extend = /* #__PURE__ */ Data_Argonaut_Encode_Combinators.extend(Data_Argonaut_Encode_Class.encodeJsonJson);
var assoc = /* #__PURE__ */ Data_Argonaut_Encode_Combinators.assoc(Data_Argonaut_Encode_Class.encodeJsonInt);
var encodeJson = /* #__PURE__ */ Data_Argonaut_Encode_Class.encodeJson(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(Data_Argonaut_Encode_Class.gEncodeJsonNil)());
var decodePlayer = function (json) {
    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(json)))(function (obj) {
        return bind(map(Domain_Types.PlayerId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("id"))))(function (id) {
            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("seed")))(function (seed) {
                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("name")))(function (name) {
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("initialRating")))(function (initialRating) {
                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField2(obj)("photo")))(function (photo) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField3(obj)("ratingsHistory")))(function (ratingsHistory) {
                                return bind(map(map1(Domain_Types.XTId))(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField4(obj)("xtid"))))(function (xtid) {
                                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField5(obj)("xtData")))(function (xtData) {
                                        return pure({
                                            id: id,
                                            seed: seed,
                                            name: name,
                                            initialRating: initialRating,
                                            photo: photo,
                                            ratingsHistory: ratingsHistory,
                                            xtid: xtid,
                                            xtData: xtData
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });
    });
};
var decodeHeadToHeadGame = function (json) {
    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(json)))(function (obj) {
        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("gameid")))(function (gameid) {
            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("date")))(function (date) {
                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getFieldOptional$prime(obj)("tourneyname")))(function (tourneyname) {
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField6(obj)("player1")))(function (player1Obj) {
                        return bind(bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player1Obj)("playerid")))(function (playerid) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(player1Obj)("name")))(function (name) {
                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player1Obj)("score")))(function (score) {
                                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player1Obj)("oldrating")))(function (oldrating) {
                                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player1Obj)("newrating")))(function (newrating) {
                                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getFieldOptional$prime1(player1Obj)("position")))(function (position) {
                                                return pure({
                                                    playerid: playerid,
                                                    name: name,
                                                    score: score,
                                                    oldrating: oldrating,
                                                    newrating: newrating,
                                                    position: position
                                                });
                                            });
                                        });
                                    });
                                });
                            });
                        }))(function (player1) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField6(obj)("player2")))(function (player2Obj) {
                                return bind(bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player2Obj)("playerid")))(function (playerid) {
                                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(player2Obj)("name")))(function (name) {
                                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player2Obj)("score")))(function (score) {
                                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player2Obj)("oldrating")))(function (oldrating) {
                                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(player2Obj)("newrating")))(function (newrating) {
                                                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getFieldOptional$prime1(player2Obj)("position")))(function (position) {
                                                        return pure({
                                                            playerid: playerid,
                                                            name: name,
                                                            score: score,
                                                            oldrating: oldrating,
                                                            newrating: newrating,
                                                            position: position
                                                        });
                                                    });
                                                });
                                            });
                                        });
                                    });
                                }))(function (player2) {
                                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getFieldOptional$prime(obj)("annotated")))(function (annotated) {
                                        return pure({
                                            gameid: gameid,
                                            date: date,
                                            tourneyname: tourneyname,
                                            player1: player1,
                                            player2: player2,
                                            annotated: annotated
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });
    });
};
var decodeGame = function (json) {
    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(json)))(function (obj) {
        return bind(map(Domain_Types.GameId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("id"))))(function (id) {
            return bind(map(Domain_Types.PlayerId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("player1Id"))))(function (player1Id) {
                return bind(map(Domain_Types.PlayerId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("player2Id"))))(function (player2Id) {
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("roundNumber")))(function (roundNumber) {
                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField4(obj)("player1Score")))(function (player1Score) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField4(obj)("player2Score")))(function (player2Score) {
                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField7(obj)("isBye")))(function (isBye) {
                                    return bind(map(map1(Domain_Types.PairingId))(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField4(obj)("pairingId"))))(function (pairingId) {
                                        return pure({
                                            id: id,
                                            player1Id: player1Id,
                                            player2Id: player2Id,
                                            roundNumber: roundNumber,
                                            player1Score: player1Score,
                                            player2Score: player2Score,
                                            isBye: isBye,
                                            pairingId: pairingId
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });
    });
};
var decodeDivision = function (json) {
    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(json)))(function (obj) {
        return bind(map(Domain_Types.DivisionId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("id"))))(function (id) {
            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("name")))(function (name) {
                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField8(obj)("players")))(function (playersJson) {
                    return bind(traverse(decodePlayer)(playersJson))(function (players) {
                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField8(obj)("games")))(function (gamesJson) {
                            return bind(traverse(decodeGame)(gamesJson))(function (games) {
                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField8(obj)("headToHeadGames")))(function (headToHeadGamesJson) {
                                    return bind(traverse(decodeHeadToHeadGame)(headToHeadGamesJson))(function (headToHeadGames) {
                                        return pure({
                                            id: id,
                                            name: name,
                                            players: players,
                                            games: games,
                                            headToHeadGames: headToHeadGames
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });
    });
};
var decodeTournament = function (json) {
    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(json)))(function (obj) {
        return bind(map(Domain_Types.TournamentId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("id"))))(function (id) {
            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("name")))(function (name) {
                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("city")))(function (city) {
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("year")))(function (year) {
                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("lexicon")))(function (lexicon) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("longFormName")))(function (longFormName) {
                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("dataUrl")))(function (dataUrl) {
                                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField8(obj)("divisions")))(function (divisionsJson) {
                                        return bind(traverse(decodeDivision)(divisionsJson))(function (divisions) {
                                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("theme")))(function (theme) {
                                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField7(obj)("transparentBackground")))(function (transparentBackground) {
                                                    return pure({
                                                        id: id,
                                                        name: name,
                                                        city: city,
                                                        year: year,
                                                        lexicon: lexicon,
                                                        longFormName: longFormName,
                                                        dataUrl: dataUrl,
                                                        divisions: divisions,
                                                        theme: theme,
                                                        transparentBackground: transparentBackground
                                                    });
                                                });
                                            });
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });
    });
};
var getTournament = function (userId) {
    return function (tournamentId) {
        var url = "http://localhost:3001/api/public/users/" + (show(userId) + ("/tournaments/" + show(tournamentId)));
        return bind1(Affjax_Web.request({
            headers: Affjax.defaultRequest.headers,
            content: Affjax.defaultRequest.content,
            username: Affjax.defaultRequest.username,
            password: Affjax.defaultRequest.password,
            withCredentials: Affjax.defaultRequest.withCredentials,
            timeout: Affjax.defaultRequest.timeout,
            url: url,
            method: new Data_Either.Left(Data_HTTP_Method.GET.value),
            responseFormat: Affjax_ResponseFormat.json
        }))(function (result) {
            if (result instanceof Data_Either.Left) {
                return pure1(new Data_Either.Left("Network error: " + Affjax.printError(result.value0)));
            };
            if (result instanceof Data_Either.Right) {
                return pure1(bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(result.value0.body)))(function (respObj) {
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField7(respObj)("success")))(function (success) {
                        var $212 = !success;
                        if ($212) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(respObj)("error")))(function (errMsg) {
                                return new Data_Either.Left(errMsg);
                            });
                        };
                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField9(respObj)("data")))(function (tournamentData) {
                            return decodeTournament(tournamentData);
                        });
                    });
                }));
            };
            throw new Error("Failed pattern match at API.CurrentMatch (line 142, column 3 - line 152, column 40): " + [ result.constructor.name ]);
        });
    };
};
var decodeCurrentMatch = function (json) {
    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(json)))(function (obj) {
        return bind(map(Domain_Types.TournamentId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("tournamentId"))))(function (tournamentId) {
            return bind(map(Domain_Types.DivisionId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("divisionId"))))(function (divisionId) {
                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("divisionName")))(function (divisionName) {
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("round")))(function (round) {
                        return bind(map(Domain_Types.PairingId)(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField(obj)("pairingId"))))(function (pairingId) {
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(obj)("updatedAt")))(function (updatedAt) {
                                return pure({
                                    tournamentId: tournamentId,
                                    divisionId: divisionId,
                                    divisionName: divisionName,
                                    round: round,
                                    pairingId: pairingId,
                                    updatedAt: updatedAt
                                });
                            });
                        });
                    });
                });
            });
        });
    });
};
var getCurrentMatch = function (userId) {
    var url = "http://localhost:3001/api/overlay/users/" + (show(userId) + "/match/current");
    return bind1(Affjax_Web.request({
        headers: Affjax.defaultRequest.headers,
        content: Affjax.defaultRequest.content,
        username: Affjax.defaultRequest.username,
        password: Affjax.defaultRequest.password,
        withCredentials: Affjax.defaultRequest.withCredentials,
        timeout: Affjax.defaultRequest.timeout,
        url: url,
        method: new Data_Either.Left(Data_HTTP_Method.GET.value),
        responseFormat: Affjax_ResponseFormat.json
    }))(function (result) {
        if (result instanceof Data_Either.Left) {
            return pure1(new Data_Either.Left("Network error: " + Affjax.printError(result.value0)));
        };
        if (result instanceof Data_Either.Right) {
            var $216 = eq(result.value0.status)(404);
            if ($216) {
                return pure1(new Data_Either.Right(Data_Maybe.Nothing.value));
            };
            return pure1(bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(result.value0.body)))(function (respObj) {
                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField7(respObj)("success")))(function (success) {
                    var $217 = !success;
                    if ($217) {
                        return new Data_Either.Right(Data_Maybe.Nothing.value);
                    };
                    return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField9(respObj)("data")))(function (matchData) {
                        return map(Data_Maybe.Just.create)(decodeCurrentMatch(matchData));
                    });
                });
            }));
        };
        throw new Error("Failed pattern match at API.CurrentMatch (line 164, column 3 - line 176, column 48): " + [ result.constructor.name ]);
    });
};
var setCurrentMatch = function (request) {
    return bind1(liftEffect(Utils_Auth.getAuthToken))(function (maybeToken) {
        if (maybeToken instanceof Data_Maybe.Nothing) {
            return pure1(new Data_Either.Left("Not authenticated"));
        };
        if (maybeToken instanceof Data_Maybe.Just) {
            var headers = [ new Affjax_RequestHeader.RequestHeader("Authorization", "Bearer " + maybeToken.value0), new Affjax_RequestHeader.RequestHeader("Content-Type", "application/json") ];
            var body = extend(assoc("tournamentId")(request.tournamentId))(extend(assoc("divisionId")(request.divisionId))(extend(assoc("round")(request.round))(extend(assoc("pairingId")(request.pairingId))(encodeJson({})))));
            return bind1(Affjax_Web.request({
                username: Affjax.defaultRequest.username,
                password: Affjax.defaultRequest.password,
                withCredentials: Affjax.defaultRequest.withCredentials,
                timeout: Affjax.defaultRequest.timeout,
                url: "http://localhost:3001/api/admin/match/current",
                method: new Data_Either.Left(Data_HTTP_Method.POST.value),
                headers: headers,
                content: new Data_Maybe.Just(Affjax_RequestBody.json(body)),
                responseFormat: Affjax_ResponseFormat.json
            }))(function (result) {
                if (result instanceof Data_Either.Left) {
                    return pure1(new Data_Either.Left("Network error: " + Affjax.printError(result.value0)));
                };
                if (result instanceof Data_Either.Right) {
                    return pure1(bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(decodeJson(result.value0.body)))(function (respObj) {
                        return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField7(respObj)("success")))(function (success) {
                            var $225 = !success;
                            if ($225) {
                                return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField1(respObj)("error")))(function (errMsg) {
                                    return new Data_Either.Left(errMsg);
                                });
                            };
                            return bind(lmap(Data_Argonaut_Decode_Error.printJsonDecodeError)(getField9(respObj)("data")))(function (matchData) {
                                return decodeCurrentMatch(matchData);
                            });
                        });
                    }));
                };
                throw new Error("Failed pattern match at API.CurrentMatch (line 206, column 7 - line 216, column 41): " + [ result.constructor.name ]);
            });
        };
        throw new Error("Failed pattern match at API.CurrentMatch (line 182, column 3 - line 216, column 41): " + [ maybeToken.constructor.name ]);
    });
};
export {
    decodePlayer,
    decodeGame,
    decodeHeadToHeadGame,
    decodeDivision,
    decodeTournament,
    decodeCurrentMatch,
    getTournament,
    getCurrentMatch,
    setCurrentMatch
};
